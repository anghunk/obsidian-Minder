/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => MinderPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian8 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  notesFolder: "minder",
  dateFormat: "YYYY-MM-DD HH:mm:ss",
  displayCount: 50,
  defaultSort: "createTime",
  openOnStartup: false
};
var MinderSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Minder \u8BBE\u7F6E" });
    new import_obsidian.Setting(containerEl).setName("\u7B14\u8BB0\u5B58\u50A8\u8DEF\u5F84").setDesc("\u6307\u5B9A\u4FDD\u5B58\u7B14\u8BB0\u7684\u6587\u4EF6\u5939\u8DEF\u5F84").addText((text) => text.setPlaceholder("\u4F8B\u5982: minder").setValue(this.plugin.settings.notesFolder).onChange(async (value) => {
      this.plugin.settings.notesFolder = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u65E5\u671F\u683C\u5F0F").setDesc("\u7B14\u8BB0\u7684\u65E5\u671F\u663E\u793A\u683C\u5F0F").addText((text) => text.setPlaceholder("YYYY-MM-DD HH:mm:ss").setValue(this.plugin.settings.dateFormat).onChange(async (value) => {
      this.plugin.settings.dateFormat = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u663E\u793A\u6570\u91CF").setDesc("\u6BCF\u4E2A\u89C6\u56FE\u663E\u793A\u7684\u7B14\u8BB0\u6570\u91CF\u4E0A\u9650").addText((text) => text.setPlaceholder("50").setValue(String(this.plugin.settings.displayCount)).onChange(async (value) => {
      const numValue = Number(value);
      if (!isNaN(numValue) && numValue > 0) {
        this.plugin.settings.displayCount = numValue;
        await this.plugin.saveSettings();
      }
    }));
    new import_obsidian.Setting(containerEl).setName("\u9ED8\u8BA4\u6392\u5E8F").setDesc("\u7B14\u8BB0\u7684\u9ED8\u8BA4\u6392\u5E8F\u65B9\u5F0F").addDropdown((dropdown) => dropdown.addOption("createTime", "\u6309\u521B\u5EFA\u65F6\u95F4\u6392\u5E8F").addOption("updateTime", "\u6309\u7F16\u8F91\u65F6\u95F4\u6392\u5E8F").setValue(this.plugin.settings.defaultSort).onChange(async (value) => {
      this.plugin.settings.defaultSort = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("\u8F6F\u4EF6\u542F\u52A8\u65F6\u6253\u5F00\u63D2\u4EF6").setDesc("Obsidian\u542F\u52A8\u65F6\u81EA\u52A8\u6253\u5F00Minder\u63D2\u4EF6").addToggle((toggle) => toggle.setValue(this.plugin.settings.openOnStartup).onChange(async (value) => {
      this.plugin.settings.openOnStartup = value;
      await this.plugin.saveSettings();
    }));
  }
};

// src/components/MemoView.ts
var import_obsidian7 = require("obsidian");

// src/utils/file.ts
var import_obsidian2 = require("obsidian");
async function ensureFolderExists(app, folderPath) {
  const folderExists = app.vault.getAbstractFileByPath(folderPath) instanceof import_obsidian2.TFolder;
  if (!folderExists) {
    await app.vault.createFolder(folderPath);
  }
}
function parseMemoFileName(fileName) {
  const match = fileName.match(/minder-(\d+)\.md$/);
  if (match && match.length >= 2) {
    const timestamp = parseInt(match[1], 10);
    return {
      id: timestamp.toString(),
      // 使用时间戳作为ID
      createdAt: timestamp
    };
  }
  const now = Date.now();
  return {
    id: now.toString(),
    createdAt: now
  };
}
function generateId() {
  return Date.now().toString();
}
function extractTagsFromContent(content) {
  const tagRegex = /#([^\s#]+)/g;
  const matches = content.match(tagRegex);
  if (!matches)
    return [];
  return [...new Set(matches.map((tag) => tag.substring(1)))];
}
function createMemoFileName(memo) {
  return `minder-${memo.createdAt}.md`;
}
function createMemoMarkdown(memo) {
  const tagsText = memo.tags.length > 0 ? memo.tags.map((tag) => `#${tag}`).join(" ") : "";
  const timestamp = new Date(memo.createdAt).toISOString();
  return `---
id: ${memo.id}
created: ${timestamp}
updated: ${new Date(memo.updatedAt).toISOString()}
tags: ${tagsText}
---

${memo.content}
`;
}
function parseMemoMarkdown(content, id, createdAt) {
  const frontMatterRegex = /^---\n([\s\S]*?)\n---\n/;
  const match = content.match(frontMatterRegex);
  let frontMatter = {};
  let mainContent = content;
  if (match) {
    const frontMatterText = match[1];
    const lines = frontMatterText.split("\n");
    lines.forEach((line) => {
      const [key, ...valueParts] = line.split(":").map((part) => part.trim());
      const value = valueParts.join(":").trim();
      if (key && value) {
        frontMatter[key] = value;
      }
    });
    mainContent = content.substring(match[0].length).trim();
  }
  const tags = frontMatter.tags ? frontMatter.tags.split(" ").filter(Boolean).map((t) => t.replace(/^#/, "")) : extractTagsFromContent(mainContent);
  return {
    id: frontMatter.id || id,
    content: mainContent,
    createdAt: frontMatter.created ? new Date(frontMatter.created).getTime() : createdAt,
    updatedAt: frontMatter.updated ? new Date(frontMatter.updated).getTime() : Date.now(),
    tags
  };
}

// src/services/memoService.ts
var MemoService = class {
  constructor(app, memoFolder) {
    this.app = app;
    this.memoFolder = memoFolder;
  }
  /**
   * 初始化，确保笔记文件夹存在
   */
  async initialize() {
    await ensureFolderExists(this.app, this.memoFolder);
  }
  /**
   * 创建新笔记
   * @param content 笔记内容
   * @returns 创建的笔记
   */
  async createMemo(content) {
    const now = Date.now();
    const id = generateId();
    const tags = extractTagsFromContent(content);
    const memo = {
      id,
      content,
      createdAt: now,
      updatedAt: now,
      tags
    };
    const fileName = createMemoFileName(memo);
    const filePath = `${this.memoFolder}/${fileName}`;
    const fileContent = createMemoMarkdown(memo);
    await this.app.vault.create(filePath, fileContent);
    return memo;
  }
  /**
   * 更新笔记
   * @param id 笔记ID
   * @param content 新的笔记内容
   * @returns 更新后的笔记
   */
  async updateMemo(id, content) {
    const memo = await this.getMemoById(id);
    if (!memo || !memo.linkedFile) {
      return null;
    }
    const updatedMemo = {
      ...memo,
      content,
      updatedAt: Date.now(),
      tags: extractTagsFromContent(content)
    };
    const fileContent = createMemoMarkdown(updatedMemo);
    await this.app.vault.modify(memo.linkedFile, fileContent);
    return updatedMemo;
  }
  /**
   * 删除笔记
   * @param id 笔记ID
   * @returns 是否成功删除
   */
  async deleteMemo(id) {
    const memo = await this.getMemoById(id);
    if (!memo || !memo.linkedFile) {
      return false;
    }
    await this.app.vault.delete(memo.linkedFile);
    return true;
  }
  /**
   * 根据ID获取笔记
   * @param id 笔记ID
   * @returns 笔记数据
   */
  async getMemoById(id) {
    const files = this.app.vault.getFiles();
    const memoFile = files.find(
      (file) => file.path.startsWith(this.memoFolder) && file.name.includes(id)
    );
    if (!memoFile) {
      return null;
    }
    const content = await this.app.vault.read(memoFile);
    const { createdAt } = parseMemoFileName(memoFile.name);
    const memo = parseMemoMarkdown(content, id, createdAt);
    return {
      ...memo,
      linkedFile: memoFile
    };
  }
  /**
   * 获取所有笔记
   * @param limit 限制数量
   * @param sort 排序方式
   * @returns 笔记列表
   */
  async getAllMemos(limit, sort = "createTime") {
    const files = this.app.vault.getFiles().filter(
      (file) => file.path.startsWith(this.memoFolder) && file.extension === "md"
    );
    const memos = [];
    for (const file of files) {
      try {
        const { id, createdAt } = parseMemoFileName(file.name);
        const content = await this.app.vault.read(file);
        const memo = parseMemoMarkdown(content, id, createdAt);
        memos.push({
          ...memo,
          linkedFile: file
        });
      } catch (error) {
        console.error(`Failed to parse memo file: ${file.name}`, error);
      }
    }
    memos.sort((a, b) => {
      if (sort === "createTime") {
        return b.createdAt - a.createdAt;
      } else {
        return b.updatedAt - a.updatedAt;
      }
    });
    return limit ? memos.slice(0, limit) : memos;
  }
  /**
   * 搜索笔记
   * @param query 搜索条件
   * @returns 符合条件的笔记列表
   */
  async searchMemos(query) {
    const allMemos = await this.getAllMemos();
    return allMemos.filter((memo) => {
      if (query.text && !memo.content.toLowerCase().includes(query.text.toLowerCase())) {
        return false;
      }
      if (query.tags && query.tags.length > 0) {
        const hasAllTags = query.tags.every(
          (tag) => memo.tags.includes(tag)
        );
        if (!hasAllTags)
          return false;
      }
      if (query.timeRange) {
        if (query.timeRange.from && memo.createdAt < query.timeRange.from) {
          return false;
        }
        if (query.timeRange.to && memo.createdAt > query.timeRange.to) {
          return false;
        }
      }
      return true;
    });
  }
};

// src/services/tagService.ts
var TagService = class {
  constructor(app, memoService) {
    this.app = app;
    this.memoService = memoService;
  }
  /**
   * 获取所有标签及其使用数量
   * @returns 标签列表和使用数量
   */
  async getAllTags() {
    const memos = await this.memoService.getAllMemos();
    const tagCount = {};
    memos.forEach((memo) => {
      memo.tags.forEach((tag) => {
        if (!tagCount[tag]) {
          tagCount[tag] = 0;
        }
        tagCount[tag]++;
      });
    });
    return Object.keys(tagCount).map((tag) => ({ name: tag, count: tagCount[tag] })).sort((a, b) => b.count - a.count);
  }
  /**
   * 获取使用最多的标签
   * @param limit 限制数量
   * @returns 热门标签列表
   */
  async getPopularTags(limit = 10) {
    const allTags = await this.getAllTags();
    return allTags.slice(0, limit);
  }
  /**
   * 重命名标签
   * @param oldName 旧标签名
   * @param newName 新标签名
   * @returns 更新的笔记数量
   */
  async renameTag(oldName, newName) {
    if (oldName === newName)
      return 0;
    const memos = await this.memoService.searchMemos({ tags: [oldName] });
    let updatedCount = 0;
    for (const memo of memos) {
      const newContent = memo.content.replace(
        new RegExp(`#${oldName}\\b`, "g"),
        `#${newName}`
      );
      if (newContent !== memo.content) {
        await this.memoService.updateMemo(memo.id, newContent);
        updatedCount++;
      }
    }
    return updatedCount;
  }
  /**
   * 删除标签
   * @param tagName 标签名
   * @returns 更新的笔记数量
   */
  async deleteTag(tagName) {
    const memos = await this.memoService.searchMemos({ tags: [tagName] });
    let updatedCount = 0;
    for (const memo of memos) {
      const newContent = memo.content.replace(
        new RegExp(`#${tagName}\\b`, "g"),
        ""
      );
      if (newContent !== memo.content) {
        await this.memoService.updateMemo(memo.id, newContent);
        updatedCount++;
      }
    }
    return updatedCount;
  }
  /**
   * 合并多个标签为一个
   * @param tags 要合并的标签列表
   * @param targetTag 目标标签
   * @returns 更新的笔记数量
   */
  async mergeTags(tags, targetTag) {
    let updatedCount = 0;
    for (const tag of tags) {
      if (tag !== targetTag) {
        updatedCount += await this.renameTag(tag, targetTag);
      }
    }
    return updatedCount;
  }
};

// src/components/MemoEditor.ts
var import_obsidian3 = require("obsidian");
var MemoEditor = class {
  constructor(options) {
    this.app = options.app;
    this.memoService = options.memoService;
    this.onSubmitCallback = options.onSubmit || (() => {
    });
    this.onCancelCallback = options.onCancel || (() => {
    });
    this.initialContent = options.initialContent || "";
    this.editingMemo = options.editingMemo;
    this.containerEl = document.createElement("div");
    this.containerEl.className = "minder-editor";
  }
  /**
   * 渲染编辑器
   * @param parentEl 父元素
   * @returns 编辑器元素
   */
  render(parentEl) {
    this.containerEl.empty();
    parentEl.appendChild(this.containerEl);
    const editorContainer = this.containerEl.createDiv({ cls: "minder-editor-container" });
    this.textArea = new import_obsidian3.TextAreaComponent(editorContainer);
    this.textArea.setPlaceholder("\u8F93\u5165\u4F60\u7684\u60F3\u6CD5...").setValue(this.initialContent).onChange(() => {
      this.previewTags();
      this.adjustTextareaHeight();
    });
    this.textArea.inputEl.className = "minder-editor-textarea";
    this.textArea.inputEl.focus();
    this.setupAutoResize();
    const bottomBarEl = this.containerEl.createDiv({ cls: "minder-editor-bottom-bar" });
    this.tagPreviewEl = bottomBarEl.createDiv({ cls: "minder-tag-preview" });
    const buttonContainer = bottomBarEl.createDiv({ cls: "minder-editor-buttons" });
    this.cancelButton = new import_obsidian3.ButtonComponent(buttonContainer);
    this.cancelButton.setButtonText("\u53D6\u6D88").onClick(() => {
      this.clear();
      this.onCancelCallback();
    });
    const cancelButtonEl = this.cancelButton.buttonEl;
    cancelButtonEl.style.display = this.editingMemo ? "flex" : "none";
    const submitButton = new import_obsidian3.ButtonComponent(buttonContainer);
    submitButton.setIcon("lucide-send-horizontal").setCta().setTooltip("\u53D1\u9001").onClick(() => this.submitMemo());
    this.previewTags();
    this.adjustTextareaHeight();
    return this.containerEl;
  }
  /**
   * 设置自动调整高度的事件监听
   */
  setupAutoResize() {
    if (!this.textArea || !this.textArea.inputEl)
      return;
    this.textArea.inputEl.addEventListener("input", () => {
      this.adjustTextareaHeight();
    });
    window.addEventListener("resize", () => {
      this.adjustTextareaHeight();
    });
  }
  /**
   * 调整文本区域高度
   */
  adjustTextareaHeight() {
    if (!this.textArea || !this.textArea.inputEl)
      return;
    const textareaEl = this.textArea.inputEl;
    textareaEl.style.height = "auto";
    textareaEl.style.height = textareaEl.scrollHeight + "px";
  }
  /**
   * 预览标签
   */
  previewTags() {
    if (!this.tagPreviewEl)
      return;
    this.tagPreviewEl.empty();
    const content = this.textArea.getValue();
    const tags = extractTagsFromContent(content);
    if (tags.length > 0) {
      this.tagPreviewEl.createSpan({ text: "\u6807\u7B7E: " });
      tags.forEach((tag) => {
        const tagEl = this.tagPreviewEl.createSpan({ cls: "minder-tag-preview-item" });
        tagEl.setText(tag);
      });
    }
  }
  /**
   * 提交笔记
   */
  async submitMemo() {
    const content = this.textArea.getValue();
    if (!content.trim())
      return;
    let memo;
    try {
      if (this.editingMemo) {
        const updated = await this.memoService.updateMemo(this.editingMemo.id, content);
        if (updated) {
          memo = updated;
        } else {
          throw new Error("\u66F4\u65B0\u7B14\u8BB0\u5931\u8D25");
        }
      } else {
        memo = await this.memoService.createMemo(content);
      }
      this.clear();
      this.onSubmitCallback(memo);
    } catch (error) {
      console.error("\u4FDD\u5B58\u7B14\u8BB0\u65F6\u51FA\u9519:", error);
    }
  }
  /**
   * 清空编辑器内容
   */
  clear() {
    if (this.textArea) {
      this.textArea.setValue("");
      if (this.tagPreviewEl) {
        this.tagPreviewEl.empty();
      }
      this.editingMemo = void 0;
      if (this.cancelButton) {
        this.cancelButton.buttonEl.style.display = "none";
      }
      this.adjustTextareaHeight();
    }
  }
  /**
   * 获取内容
   */
  getContent() {
    return this.textArea ? this.textArea.getValue() : "";
  }
  /**
   * 设置内容
   * @param content 内容
   */
  setContent(content) {
    if (this.textArea) {
      this.textArea.setValue(content);
      this.previewTags();
      this.adjustTextareaHeight();
    }
  }
  /**
   * 进入编辑模式
   * @param memo 要编辑的笔记
   */
  setEditMode(memo) {
    this.editingMemo = memo;
    this.setContent(memo.content);
    if (this.cancelButton) {
      this.cancelButton.buttonEl.style.display = "flex";
    }
  }
};

// src/components/MemoItem.ts
var import_obsidian6 = require("obsidian");

// src/utils/date.ts
var import_obsidian4 = require("obsidian");
function formatDate(timestamp, format) {
  return (0, import_obsidian4.moment)(timestamp).format(format);
}
function getRelativeTimeString(timestamp) {
  const now = Date.now();
  const diff = now - timestamp;
  if (diff < 60 * 1e3) {
    return "\u521A\u521A";
  }
  if (diff < 60 * 60 * 1e3) {
    const minutes = Math.floor(diff / (60 * 1e3));
    return `${minutes}\u5206\u949F\u524D`;
  }
  if (diff < 24 * 60 * 60 * 1e3) {
    const hours = Math.floor(diff / (60 * 60 * 1e3));
    return `${hours}\u5C0F\u65F6\u524D`;
  }
  if (diff < 7 * 24 * 60 * 60 * 1e3) {
    const days = Math.floor(diff / (24 * 60 * 60 * 1e3));
    return `${days}\u5929\u524D`;
  }
  return formatDate(timestamp, "YYYY-MM-DD");
}

// src/components/InlineMemoEditor.ts
var import_obsidian5 = require("obsidian");
var InlineMemoEditor = class {
  constructor(options) {
    this.app = options.app;
    this.memoService = options.memoService;
    this.memo = options.memo;
    this.onSubmitCallback = options.onSubmit;
    this.onCancelCallback = options.onCancel;
    this.containerEl = document.createElement("div");
    this.containerEl.className = "minder-inline-editor";
  }
  /**
   * 渲染内联编辑器
   * @param parentEl 父元素
   * @returns 编辑器元素
   */
  render(parentEl) {
    this.containerEl.empty();
    parentEl.appendChild(this.containerEl);
    const editorContainer = this.containerEl.createDiv({ cls: "minder-inline-editor-container" });
    this.textArea = new import_obsidian5.TextAreaComponent(editorContainer);
    this.textArea.setPlaceholder("\u8F93\u5165\u4F60\u7684\u60F3\u6CD5...").setValue(this.memo.content).onChange(() => {
      this.previewTags();
      this.adjustTextareaHeight();
    });
    this.textArea.inputEl.className = "minder-inline-editor-textarea";
    this.textArea.inputEl.focus();
    this.setupAutoResize();
    const bottomBarEl = this.containerEl.createDiv({ cls: "minder-inline-editor-bottom-bar" });
    this.tagPreviewEl = bottomBarEl.createDiv({ cls: "minder-tag-preview" });
    const buttonContainer = bottomBarEl.createDiv({ cls: "minder-inline-editor-buttons" });
    const cancelButton = new import_obsidian5.ButtonComponent(buttonContainer);
    cancelButton.setButtonText("\u53D6\u6D88").onClick(() => {
      this.onCancelCallback();
    });
    const submitButton = new import_obsidian5.ButtonComponent(buttonContainer);
    submitButton.setButtonText("\u4FDD\u5B58").setCta().onClick(() => this.submitMemo());
    this.previewTags();
    this.adjustTextareaHeight();
    return this.containerEl;
  }
  /**
   * 设置自动调整高度的事件监听
   */
  setupAutoResize() {
    if (!this.textArea || !this.textArea.inputEl)
      return;
    this.textArea.inputEl.addEventListener("input", () => {
      this.adjustTextareaHeight();
    });
    window.addEventListener("resize", () => {
      this.adjustTextareaHeight();
    });
  }
  /**
   * 调整文本区域高度
   */
  adjustTextareaHeight() {
    if (!this.textArea || !this.textArea.inputEl)
      return;
    const textareaEl = this.textArea.inputEl;
    textareaEl.style.height = "auto";
    textareaEl.style.height = textareaEl.scrollHeight + "px";
  }
  /**
   * 预览标签
   */
  previewTags() {
    if (!this.tagPreviewEl)
      return;
    this.tagPreviewEl.empty();
    const content = this.textArea.getValue();
    const tags = extractTagsFromContent(content);
    if (tags.length > 0) {
      this.tagPreviewEl.createSpan({ text: "\u6807\u7B7E: " });
      tags.forEach((tag) => {
        const tagEl = this.tagPreviewEl.createSpan({ cls: "minder-tag-preview-item" });
        tagEl.setText(tag);
      });
    }
  }
  /**
   * 提交笔记
   */
  async submitMemo() {
    const content = this.textArea.getValue();
    if (!content.trim())
      return;
    try {
      const updated = await this.memoService.updateMemo(this.memo.id, content);
      if (updated) {
        this.onSubmitCallback(updated);
      } else {
        throw new Error("\u66F4\u65B0\u7B14\u8BB0\u5931\u8D25");
      }
    } catch (error) {
      console.error("\u4FDD\u5B58\u7B14\u8BB0\u65F6\u51FA\u9519:", error);
    }
  }
  /**
   * 获取内容
   */
  getContent() {
    return this.textArea ? this.textArea.getValue() : "";
  }
  /**
   * 聚焦到编辑器
   */
  focus() {
    if (this.textArea && this.textArea.inputEl) {
      this.textArea.inputEl.focus();
    }
  }
};

// src/components/MemoItem.ts
var MemoItemComponent = class {
  constructor(options) {
    this.inlineEditor = null;
    this.app = options.app;
    this.memo = options.memo;
    this.memoService = options.memoService;
    this.dateFormat = options.dateFormat;
    this.showTimestamp = options.showTimestamp;
    this.onEditCallback = options.onEdit || (() => {
    });
    this.onDeleteCallback = options.onDelete || (() => {
    });
    this.onClickCallback = options.onClick || (() => {
    });
    this.onUpdateCallback = options.onUpdate || (() => {
    });
    this.component = options.component || null;
    this.isEditing = false;
    this.containerEl = document.createElement("div");
    this.containerEl.className = "minder-memo-item";
    this.containerEl.dataset.id = this.memo.id;
  }
  /**
   * 渲染笔记项
   * @param parentEl 父元素
   * @returns 笔记项元素
   */
  render(parentEl) {
    this.containerEl.empty();
    parentEl.appendChild(this.containerEl);
    if (this.isEditing) {
      this.containerEl.classList.add("minder-memo-editing");
    } else {
      this.containerEl.classList.remove("minder-memo-editing");
    }
    const headerEl = this.containerEl.createDiv({
      cls: "minder-memo-header"
    });
    if (this.showTimestamp) {
      const timeEl = headerEl.createDiv({ cls: "minder-memo-time" });
      timeEl.setText(getRelativeTimeString(this.memo.createdAt));
      timeEl.setAttribute(
        "title",
        formatDate(this.memo.createdAt, this.dateFormat)
      );
    }
    const actionsEl = headerEl.createDiv({ cls: "minder-memo-actions" });
    if (this.isEditing) {
      const editingBadgeEl = actionsEl.createDiv({
        cls: "minder-memo-editing-badge"
      });
      editingBadgeEl.setText("\u7F16\u8F91\u4E2D");
    }
    const moreButtonEl = actionsEl.createDiv({
      cls: "minder-memo-action-button"
    });
    (0, import_obsidian6.setIcon)(moreButtonEl, "more-horizontal");
    moreButtonEl.addEventListener("click", (event) => {
      this.showActionsMenu(moreButtonEl, event);
      event.stopPropagation();
    });
    this.contentEl = this.containerEl.createDiv({
      cls: "minder-memo-content"
    });
    if (this.isEditing) {
      this.renderInlineEditor();
    } else {
      this.renderContent(this.contentEl);
    }
    if (this.memo.tags.length > 0) {
      const tagsEl = this.containerEl.createDiv({
        cls: "minder-memo-tags"
      });
      this.memo.tags.forEach((tag) => {
        const tagEl = tagsEl.createSpan({ cls: "minder-memo-tag" });
        tagEl.setText("#" + tag);
        tagEl.addEventListener("click", (event) => {
          event.stopPropagation();
        });
      });
    }
    if (!this.isEditing) {
      this.containerEl.addEventListener("click", () => {
        this.onClickCallback(this.memo);
      });
      this.containerEl.addEventListener("dblclick", (event) => {
        this.startInlineEditing();
        event.stopPropagation();
      });
    }
    return this.containerEl;
  }
  /**
   * 渲染笔记内容
   * @param containerEl 容器元素
   */
  renderContent(containerEl) {
    containerEl.empty();
    try {
      if (this.component) {
        import_obsidian6.MarkdownRenderer.renderMarkdown(
          this.memo.content,
          containerEl,
          "",
          this.component
        );
      } else {
        const contentP = containerEl.createEl("p");
        contentP.textContent = this.memo.content;
      }
    } catch (error) {
      console.error("\u6E32\u67D3Markdown\u5185\u5BB9\u5931\u8D25:", error);
      const errorP = containerEl.createEl("p");
      errorP.textContent = this.memo.content;
    }
  }
  /**
   * 渲染内联编辑器
   */
  renderInlineEditor() {
    if (!this.contentEl)
      return;
    this.contentEl.empty();
    this.inlineEditor = new InlineMemoEditor({
      app: this.app,
      memoService: this.memoService,
      memo: this.memo,
      onSubmit: (updatedMemo) => {
        this.memo = updatedMemo;
        this.setEditingState(false);
        this.renderContent(this.contentEl);
        this.updateTagsSection();
        this.onUpdateCallback(updatedMemo);
      },
      onCancel: () => {
        this.setEditingState(false);
        this.renderContent(this.contentEl);
        this.updateTagsSection();
      }
    });
    this.inlineEditor.render(this.contentEl);
    if (this.inlineEditor) {
      setTimeout(() => {
        var _a;
        (_a = this.inlineEditor) == null ? void 0 : _a.focus();
      }, 10);
    }
  }
  /**
   * 更新标签区域
   */
  updateTagsSection() {
    const existingTagsEl = this.containerEl.querySelector(".minder-memo-tags");
    if (this.memo.tags.length > 0) {
      if (existingTagsEl) {
        existingTagsEl.empty();
        this.memo.tags.forEach((tag) => {
          const tagEl = existingTagsEl.createSpan({ cls: "minder-memo-tag" });
          tagEl.setText("#" + tag);
          tagEl.addEventListener("click", (event) => {
            event.stopPropagation();
          });
        });
      } else {
        const tagsEl = this.containerEl.createDiv({
          cls: "minder-memo-tags"
        });
        this.memo.tags.forEach((tag) => {
          const tagEl = tagsEl.createSpan({ cls: "minder-memo-tag" });
          tagEl.setText("#" + tag);
          tagEl.addEventListener("click", (event) => {
            event.stopPropagation();
          });
        });
      }
    } else if (existingTagsEl) {
      existingTagsEl.remove();
    }
  }
  /**
   * 开始内联编辑
   */
  startInlineEditing() {
    this.onEditCallback(this.memo);
    this.setEditingState(true);
    this.renderInlineEditor();
  }
  /**
   * 显示操作菜单
   * @param targetEl 触发菜单的元素
   * @param event 事件对象
   */
  showActionsMenu(targetEl, event) {
    const menu = new import_obsidian6.Menu();
    menu.addItem((item) => {
      item.setTitle("\u7F16\u8F91").setIcon("pencil").onClick(() => {
        this.startInlineEditing();
      });
    });
    menu.addItem((item) => {
      const itemDom = item.setTitle("\u5220\u9664").setIcon("trash").onClick(() => {
        this.showDeleteConfirmation();
      });
      const titleEl = itemDom.titleEl;
      if (titleEl) {
        titleEl.style.color = "var(--text-error)";
      }
      const iconEl = itemDom.iconEl;
      if (iconEl) {
        iconEl.style.color = "var(--text-error)";
      }
    });
    if (this.memo.linkedFile) {
      menu.addItem((item) => {
        item.setTitle("\u8FDB\u5165\u6E90\u6587\u4EF6").setIcon("file-text").onClick(() => {
          this.app.workspace.getLeaf().openFile(this.memo.linkedFile);
        });
      });
    }
    menu.showAtMouseEvent(event);
  }
  /**
   * 更新笔记数据
   * @param memo 新的笔记数据
   */
  update(memo) {
    this.memo = memo;
    const parentEl = this.containerEl.parentElement;
    if (parentEl) {
      this.render(parentEl);
    }
  }
  /**
   * 设置编辑状态
   * @param isEditing 是否正在编辑
   */
  setEditingState(isEditing) {
    this.isEditing = isEditing;
    if (this.containerEl) {
      if (isEditing) {
        this.containerEl.classList.add("minder-memo-editing");
      } else {
        this.containerEl.classList.remove("minder-memo-editing");
        this.inlineEditor = null;
      }
    }
  }
  /**
   * 保存当前编辑内容
   * 如果当前处于编辑状态，则保存更改
   */
  async saveCurrentEdit() {
    if (!this.isEditing || !this.inlineEditor) {
      return;
    }
    try {
      const content = this.inlineEditor.getContent();
      if (!content.trim() || content === this.memo.content) {
        this.setEditingState(false);
        this.renderContent(this.contentEl);
        this.updateTagsSection();
        return;
      }
      const updatedMemo = await this.memoService.updateMemo(this.memo.id, content);
      if (updatedMemo) {
        this.memo = updatedMemo;
        this.setEditingState(false);
        this.renderContent(this.contentEl);
        this.updateTagsSection();
        this.onUpdateCallback(updatedMemo);
      }
    } catch (error) {
      console.error("\u4FDD\u5B58\u7B14\u8BB0\u65F6\u51FA\u9519:", error);
      this.setEditingState(false);
      this.renderContent(this.contentEl);
    }
  }
  /**
   * 显示删除确认对话框
   */
  showDeleteConfirmation() {
    const confirmModal = new import_obsidian6.Modal(this.app);
    confirmModal.titleEl.setText("\u786E\u8BA4\u5220\u9664");
    const contentEl = confirmModal.contentEl;
    contentEl.empty();
    const messageEl = contentEl.createDiv();
    messageEl.setText("\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u7B14\u8BB0\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u64A4\u9500\u3002");
    messageEl.style.marginBottom = "20px";
    const previewEl = contentEl.createDiv({ cls: "minder-delete-preview" });
    previewEl.style.padding = "10px";
    previewEl.style.background = "var(--background-secondary)";
    previewEl.style.borderRadius = "5px";
    previewEl.style.marginBottom = "20px";
    previewEl.style.maxHeight = "100px";
    previewEl.style.overflow = "auto";
    const previewContent = this.memo.content.length > 50 ? this.memo.content.substring(0, 50) + "..." : this.memo.content;
    previewEl.setText(previewContent);
    const buttonContainer = contentEl.createDiv();
    buttonContainer.style.display = "flex";
    buttonContainer.style.justifyContent = "flex-end";
    buttonContainer.style.gap = "10px";
    const cancelButton = buttonContainer.createEl("button");
    cancelButton.setText("\u53D6\u6D88");
    cancelButton.addEventListener("click", () => {
      confirmModal.close();
    });
    const confirmButton = buttonContainer.createEl("button");
    confirmButton.setText("\u5220\u9664");
    confirmButton.classList.add("mod-warning");
    confirmButton.addEventListener("click", () => {
      this.onDeleteCallback(this.memo);
      confirmModal.close();
    });
    confirmModal.open();
  }
  /**
   * 获取容器元素
   * @returns 容器元素
   */
  getContainerEl() {
    return this.containerEl;
  }
};

// src/components/TagsBar.ts
var TagsBar = class {
  constructor(options) {
    this.tags = [];
    this.selectedTag = null;
    this.app = options.app;
    this.tagService = options.tagService;
    this.onTagClickCallback = options.onTagClick || (() => {
    });
    this.containerEl = document.createElement("div");
    this.containerEl.className = "minder-tags-bar";
  }
  /**
   * 渲染标签栏
   * @param parentEl 父元素
   * @returns 标签栏元素
   */
  async render(parentEl) {
    this.containerEl.empty();
    parentEl.appendChild(this.containerEl);
    await this.loadTags();
    const allTagEl = this.containerEl.createDiv({ cls: "minder-tag-item" });
    allTagEl.classList.toggle("minder-tag-selected", this.selectedTag === null);
    allTagEl.setText("\u5168\u90E8");
    allTagEl.addEventListener("click", () => this.selectTag(null));
    for (const tag of this.tags) {
      const tagEl = this.containerEl.createDiv({ cls: "minder-tag-item" });
      tagEl.classList.toggle("minder-tag-selected", tag.name === this.selectedTag);
      tagEl.createSpan({ text: tag.name });
      tagEl.createSpan({ cls: "minder-tag-count", text: `(${tag.count})` });
      tagEl.addEventListener("click", () => this.selectTag(tag.name));
    }
    return this.containerEl;
  }
  /**
   * 加载标签
   */
  async loadTags() {
    this.tags = await this.tagService.getAllTags();
  }
  /**
   * 选择标签
   * @param tagName 标签名
   */
  selectTag(tagName) {
    this.selectedTag = tagName;
    const tagItems = this.containerEl.querySelectorAll(".minder-tag-item");
    tagItems.forEach((item, index) => {
      var _a;
      const isSelected = index === 0 ? this.selectedTag === null : this.selectedTag === ((_a = this.tags[index - 1]) == null ? void 0 : _a.name);
      item.classList.toggle("minder-tag-selected", isSelected);
    });
    if (tagName !== null) {
      this.onTagClickCallback(tagName);
    } else {
      this.onTagClickCallback("");
    }
  }
  /**
   * 刷新标签数据
   */
  async refresh() {
    await this.loadTags();
    if (this.containerEl.parentElement) {
      this.render(this.containerEl.parentElement);
    }
  }
  /**
   * 获取选中的标签
   * @returns 选中的标签名
   */
  getSelectedTag() {
    return this.selectedTag;
  }
  /**
   * 设置选中的标签
   * @param tagName 标签名
   */
  setSelectedTag(tagName) {
    this.selectTag(tagName);
  }
};

// src/components/MemoView.ts
var MEMO_VIEW_TYPE = "minder-memo-view";
var MemoView = class extends import_obsidian7.ItemView {
  constructor(leaf, settings) {
    super(leaf);
    this.memos = [];
    this.currentViewType = "all" /* ALL */;
    this.currentTag = "";
    this.searchText = "";
    this.currentEditingMemoId = null;
    this.memoComponents = /* @__PURE__ */ new Map();
    this.isSearchVisible = false;
    this.settings = settings;
    this.memoService = new MemoService(this.app, this.settings.notesFolder);
    this.tagService = new TagService(this.app, this.memoService);
  }
  getViewType() {
    return MEMO_VIEW_TYPE;
  }
  getDisplayText() {
    return "Minder";
  }
  getIcon() {
    return "lightbulb";
  }
  async onOpen() {
    const { containerEl } = this;
    containerEl.empty();
    await this.memoService.initialize();
    containerEl.addClass("minder-container");
    const editorEl = containerEl.createDiv({ cls: "minder-editor-area" });
    this.editor = new MemoEditor({
      app: this.app,
      memoService: this.memoService,
      placeholder: "\u8F93\u5165\u4F60\u7684\u60F3\u6CD5...",
      onSubmit: async (memo) => {
        var _a;
        if (this.currentEditingMemoId) {
          this.clearEditingState();
        }
        await this.refreshMemos();
        await ((_a = this.tagsBar) == null ? void 0 : _a.refresh());
      },
      onCancel: () => {
        this.clearEditingState();
      }
    });
    this.editor.render(editorEl);
    const topBarEl = containerEl.createDiv({ cls: "minder-top-bar" });
    this.searchEl = topBarEl.createDiv({ cls: "minder-search" });
    this.searchEl.style.display = "none";
    const searchInput = this.searchEl.createEl("input", {
      type: "text",
      placeholder: "\u641C\u7D22\u7B14\u8BB0...",
      cls: "minder-search-input"
    });
    searchInput.addEventListener("input", (e) => {
      this.searchText = e.target.value;
      this.refreshMemos();
    });
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Escape") {
        this.hideSearch();
        e.preventDefault();
        e.stopPropagation();
      }
    });
    const tagsBarEl = containerEl.createDiv({ cls: "minder-tags-area" });
    const buttonsContainer = tagsBarEl.createDiv({ cls: "minder-buttons-container" });
    const refreshButton = buttonsContainer.createDiv({ cls: "minder-refresh-button" });
    (0, import_obsidian7.setIcon)(refreshButton, "refresh-cw");
    refreshButton.setAttribute("aria-label", "\u5237\u65B0\u7B14\u8BB0");
    refreshButton.addEventListener("click", async () => {
      var _a;
      await this.refreshMemos();
      await ((_a = this.tagsBar) == null ? void 0 : _a.refresh());
      new import_obsidian7.Notice("\u7B14\u8BB0\u5DF2\u5237\u65B0");
    });
    this.searchButton = buttonsContainer.createDiv({ cls: "minder-search-button" });
    (0, import_obsidian7.setIcon)(this.searchButton, "search");
    this.searchButton.setAttribute("aria-label", "\u641C\u7D22\u7B14\u8BB0");
    this.searchButton.addEventListener("click", () => {
      this.toggleSearchVisibility();
    });
    this.tagsBar = new TagsBar({
      app: this.app,
      tagService: this.tagService,
      onTagClick: (tagName) => {
        this.currentTag = tagName;
        this.currentViewType = tagName ? "tag" /* TAG */ : "all" /* ALL */;
        this.refreshMemos();
      }
    });
    await this.tagsBar.render(tagsBarEl);
    this.memoContentEl = containerEl.createDiv({
      cls: "minder-content-area"
    });
    this.memosContainer = this.memoContentEl.createDiv({
      cls: "minder-memos-container"
    });
    this.refreshMemos();
  }
  /**
   * 显示搜索框
   */
  showSearch() {
    this.isSearchVisible = true;
    this.searchEl.style.display = "block";
    this.searchButton.classList.add("active");
    const searchInput = this.searchEl.querySelector(".minder-search-input");
    if (searchInput) {
      setTimeout(() => searchInput.focus(), 10);
    }
  }
  /**
   * 隐藏搜索框
   */
  hideSearch() {
    this.isSearchVisible = false;
    this.searchEl.style.display = "none";
    this.searchButton.classList.remove("active");
    const searchInput = this.searchEl.querySelector(".minder-search-input");
    if (searchInput) {
      searchInput.value = "";
      this.searchText = "";
      this.refreshMemos();
    }
  }
  /**
   * 切换搜索框的可见性
   */
  toggleSearchVisibility() {
    if (this.isSearchVisible) {
      this.hideSearch();
    } else {
      this.showSearch();
    }
  }
  async onClose() {
  }
  /**
   * 刷新笔记列表
   */
  async refreshMemos() {
    this.memosContainer.empty();
    this.memoComponents.clear();
    try {
      switch (this.currentViewType) {
        case "tag" /* TAG */:
          if (this.currentTag) {
            this.memos = await this.memoService.searchMemos({
              tags: [this.currentTag],
              text: this.searchText
            });
          } else {
            this.memos = await this.memoService.getAllMemos(
              this.settings.displayCount,
              this.settings.defaultSort
            );
          }
          break;
        case "all" /* ALL */:
        default:
          if (this.searchText) {
            this.memos = await this.memoService.searchMemos({
              text: this.searchText
            });
          } else {
            this.memos = await this.memoService.getAllMemos(
              this.settings.displayCount,
              this.settings.defaultSort
            );
          }
          break;
      }
      for (const memo of this.memos) {
        const memoItemComponent = new MemoItemComponent({
          app: this.app,
          memo,
          memoService: this.memoService,
          dateFormat: this.settings.dateFormat,
          showTimestamp: true,
          // 总是显示时间戳
          onEdit: (memo2) => this.editMemo(memo2),
          onDelete: (memo2) => this.deleteMemo(memo2),
          onUpdate: async (memo2) => {
            var _a;
            await ((_a = this.tagsBar) == null ? void 0 : _a.refresh());
            if (this.currentViewType === "tag" /* TAG */ && this.currentTag) {
              const hasCurrentTag = memo2.tags.includes(this.currentTag);
              if (!hasCurrentTag) {
                await this.refreshMemos();
              }
            }
          },
          component: this
          // 传递当前View组件给MemoItemComponent
        });
        memoItemComponent.render(this.memosContainer);
        this.memoComponents.set(memo.id, memoItemComponent);
        if (this.currentEditingMemoId === memo.id) {
          memoItemComponent.setEditingState(true);
        }
      }
      if (this.memos.length === 0) {
        const emptyEl = this.memosContainer.createDiv({
          cls: "minder-empty-state"
        });
        emptyEl.setText("\u6682\u65E0\u7B14\u8BB0");
      }
    } catch (error) {
      console.error("\u52A0\u8F7D\u7B14\u8BB0\u5931\u8D25", error);
      new import_obsidian7.Notice("\u52A0\u8F7D\u7B14\u8BB0\u5931\u8D25");
    }
  }
  /**
   * 编辑笔记
   * @param memo 笔记
   */
  editMemo(memo) {
    if (this.currentEditingMemoId && this.currentEditingMemoId !== memo.id) {
      const currentEditingMemoComponent = this.memoComponents.get(this.currentEditingMemoId);
      if (currentEditingMemoComponent) {
        currentEditingMemoComponent.saveCurrentEdit();
      }
    }
    this.clearEditingState();
    this.currentEditingMemoId = memo.id;
    const memoComponent = this.memoComponents.get(memo.id);
    if (memoComponent) {
      memoComponent.setEditingState(true);
      const memoEl = memoComponent.getContainerEl();
      if (memoEl) {
        memoEl.scrollIntoView({
          behavior: "smooth",
          block: "nearest"
          // 只在需要时滚动
        });
      }
    }
  }
  /**
   * 删除笔记
   * @param memo 笔记
   */
  async deleteMemo(memo) {
    try {
      if (this.currentEditingMemoId === memo.id) {
        this.clearEditingState();
      }
      await this.memoService.deleteMemo(memo.id);
      await this.refreshMemos();
      await this.tagsBar.refresh();
      new import_obsidian7.Notice("\u7B14\u8BB0\u5DF2\u5220\u9664");
    } catch (error) {
      console.error("\u5220\u9664\u7B14\u8BB0\u5931\u8D25", error);
      new import_obsidian7.Notice("\u5220\u9664\u7B14\u8BB0\u5931\u8D25");
    }
  }
  /**
   * 清除编辑状态
   */
  clearEditingState() {
    if (this.currentEditingMemoId) {
      const prevMemoComponent = this.memoComponents.get(
        this.currentEditingMemoId
      );
      if (prevMemoComponent) {
        prevMemoComponent.setEditingState(false);
      }
      this.currentEditingMemoId = null;
    }
  }
  /**
   * 聚焦到编辑器
   */
  focusEditor() {
    var _a;
    if (this.editor) {
      (_a = this.containerEl.querySelector(".minder-editor-area")) == null ? void 0 : _a.scrollIntoView({
        behavior: "smooth",
        block: "center"
      });
      const textAreaEl = this.containerEl.querySelector(
        ".minder-editor-textarea"
      );
      if (textAreaEl) {
        textAreaEl.focus();
      }
    }
  }
};

// main.ts
var MinderPlugin = class extends import_obsidian8.Plugin {
  async onload() {
    await this.loadSettings();
    this.registerView(
      MEMO_VIEW_TYPE,
      (leaf) => new MemoView(leaf, this.settings)
    );
    this.addRibbonIcon("lightbulb", "Minder \u5FEB\u901F\u7B14\u8BB0", async () => {
      await this.activateView();
    });
    this.addCommand({
      id: "open-minder",
      name: "\u6253\u5F00 Minder \u7B14\u8BB0\u89C6\u56FE",
      callback: async () => {
        await this.activateView();
      }
    });
    this.addCommand({
      id: "add-quick-memo",
      name: "\u5FEB\u901F\u6DFB\u52A0\u7B14\u8BB0",
      callback: () => {
        this.activateView().then(() => {
          const viewLeaf = this.app.workspace.getLeavesOfType(MEMO_VIEW_TYPE)[0];
          if (viewLeaf) {
            const view = viewLeaf.view;
            view.focusEditor();
          }
        });
      }
    });
    this.addSettingTab(new MinderSettingTab(this.app, this));
    if (this.settings.openOnStartup) {
      setTimeout(() => {
        this.activateView();
      }, 500);
    }
  }
  onunload() {
    this.app.workspace.getLeavesOfType(MEMO_VIEW_TYPE).forEach((leaf) => leaf.detach());
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  /**
   * 激活视图
   */
  async activateView() {
    const { workspace } = this.app;
    let leaf = workspace.getLeavesOfType(MEMO_VIEW_TYPE)[0];
    if (!leaf) {
      leaf = workspace.getLeaf(false);
      if (leaf) {
        await leaf.setViewState({
          type: MEMO_VIEW_TYPE,
          active: true
        });
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvc2V0dGluZ3MudHMiLCAic3JjL2NvbXBvbmVudHMvTWVtb1ZpZXcudHMiLCAic3JjL3V0aWxzL2ZpbGUudHMiLCAic3JjL3NlcnZpY2VzL21lbW9TZXJ2aWNlLnRzIiwgInNyYy9zZXJ2aWNlcy90YWdTZXJ2aWNlLnRzIiwgInNyYy9jb21wb25lbnRzL01lbW9FZGl0b3IudHMiLCAic3JjL2NvbXBvbmVudHMvTWVtb0l0ZW0udHMiLCAic3JjL3V0aWxzL2RhdGUudHMiLCAic3JjL2NvbXBvbmVudHMvSW5saW5lTWVtb0VkaXRvci50cyIsICJzcmMvY29tcG9uZW50cy9UYWdzQmFyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJpbXBvcnQgeyBBcHAsIE5vdGljZSwgUGx1Z2luLCBQbHVnaW5TZXR0aW5nVGFiLCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZGVyU2V0dGluZ3MgfSBmcm9tICcuL3NyYy90eXBlcyc7XG5pbXBvcnQgeyBERUZBVUxUX1NFVFRJTkdTLCBNaW5kZXJTZXR0aW5nVGFiIH0gZnJvbSAnLi9zcmMvc2V0dGluZ3MnO1xuaW1wb3J0IHsgTWVtb1ZpZXcsIE1FTU9fVklFV19UWVBFIH0gZnJvbSAnLi9zcmMvY29tcG9uZW50cy9NZW1vVmlldyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1pbmRlclBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBNaW5kZXJTZXR0aW5ncztcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHRcblx0XHQvLyBcdTZDRThcdTUxOENcdTg5QzZcdTU2RkVcblx0XHR0aGlzLnJlZ2lzdGVyVmlldyhcblx0XHRcdE1FTU9fVklFV19UWVBFLFxuXHRcdFx0KGxlYWYpID0+IG5ldyBNZW1vVmlldyhsZWFmLCB0aGlzLnNldHRpbmdzKVxuXHRcdCk7XG5cblx0XHQvLyBcdTU3MjhcdTVERTZcdTRGQTdcdTZERkJcdTUyQTBcdTU2RkVcdTY4MDdcdUZGMENcdTRGN0ZcdTc1MjhcdTY2RjRcdTgwRkRcdTRGNTNcdTczQjBcdTVDMEZcdTdCMTRcdThCQjBcdTUyOUZcdTgwRkRcdTc2ODRcdTU2RkVcdTY4MDdcblx0XHR0aGlzLmFkZFJpYmJvbkljb24oJ2xpZ2h0YnVsYicsICdNaW5kZXIgXHU1RkVCXHU5MDFGXHU3QjE0XHU4QkIwJywgYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcblx0XHR9KTtcblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NTQ3RFx1NEVFNFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ29wZW4tbWluZGVyJyxcblx0XHRcdG5hbWU6ICdcdTYyNTNcdTVGMDAgTWluZGVyIFx1N0IxNFx1OEJCMFx1ODlDNlx1NTZGRScsXG5cdFx0XHRjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRhd2FpdCB0aGlzLmFjdGl2YXRlVmlldygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1NUZFQlx1OTAxRlx1NkRGQlx1NTJBMFx1N0IxNFx1OEJCMFx1NzY4NFx1NTQ3RFx1NEVFNFxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogJ2FkZC1xdWljay1tZW1vJyxcblx0XHRcdG5hbWU6ICdcdTVGRUJcdTkwMUZcdTZERkJcdTUyQTBcdTdCMTRcdThCQjAnLFxuXHRcdFx0Y2FsbGJhY2s6ICgpID0+IHtcblx0XHRcdFx0dGhpcy5hY3RpdmF0ZVZpZXcoKS50aGVuKCgpID0+IHtcblx0XHRcdFx0XHQvLyBcdTgwNUFcdTcxMjZcdTUyMzBcdTdGMTZcdThGOTFcdTU2Njhcblx0XHRcdFx0XHRjb25zdCB2aWV3TGVhZiA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoTUVNT19WSUVXX1RZUEUpWzBdO1xuXHRcdFx0XHRcdGlmICh2aWV3TGVhZikge1xuXHRcdFx0XHRcdFx0Y29uc3QgdmlldyA9IHZpZXdMZWFmLnZpZXcgYXMgTWVtb1ZpZXc7XG5cdFx0XHRcdFx0XHR2aWV3LmZvY3VzRWRpdG9yKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFx1NkRGQlx1NTJBMFx1OEJCRVx1N0Y2RVx1OTAwOVx1OTg3OVx1NTM2MVxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTWluZGVyU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHRcdFxuXHRcdC8vIFx1NjgzOVx1NjM2RVx1OEJCRVx1N0Y2RVx1NTFCM1x1NUI5QVx1NjYyRlx1NTQyNlx1NTcyOFx1NTQyRlx1NTJBOFx1NjVGNlx1ODFFQVx1NTJBOFx1NjI1M1x1NUYwMFx1NjNEMlx1NEVGNlxuXHRcdGlmICh0aGlzLnNldHRpbmdzLm9wZW5PblN0YXJ0dXApIHtcblx0XHRcdC8vIFx1NEY3Rlx1NzUyOHNldFRpbWVvdXRcdTVFRjZcdThGREZcdTYyNjdcdTg4NENcdUZGMENcdTc4NkVcdTRGRERPYnNpZGlhblx1NUI4Q1x1NTE2OFx1NTJBMFx1OEY3RFx1NTQwRVx1NTE4RFx1NjI1M1x1NUYwMFx1NjNEMlx1NEVGNlxuXHRcdFx0c2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdHRoaXMuYWN0aXZhdGVWaWV3KCk7XG5cdFx0XHR9LCA1MDApO1xuXHRcdH1cblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdC8vIFx1NTM3OFx1OEY3RFx1NjVGNlx1NTE3M1x1OTVFRFx1ODlDNlx1NTZGRVxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoTUVNT19WSUVXX1RZUEUpLmZvckVhY2gobGVhZiA9PiBsZWFmLmRldGFjaCgpKTtcblx0fVxuXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXG5cdGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcblx0XHRhd2FpdCB0aGlzLnNhdmVEYXRhKHRoaXMuc2V0dGluZ3MpO1xuXHR9XG5cdFxuXHQvKipcblx0ICogXHU2RkMwXHU2RDNCXHU4OUM2XHU1NkZFXG5cdCAqL1xuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXHRcdFxuXHRcdC8vIFx1NjdFNVx1NjI3RVx1NURGMlx1NUI1OFx1NTcyOFx1NzY4NFx1ODlDNlx1NTZGRVxuXHRcdGxldCBsZWFmID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShNRU1PX1ZJRVdfVFlQRSlbMF07XG5cdFx0XG5cdFx0aWYgKCFsZWFmKSB7XG5cdFx0XHQvLyBcdTU3MjhcdTRFM0JcdTUzM0FcdTU3REZcdTUyMUJcdTVFRkFcdTY1QjBcdTg5QzZcdTU2RkVcdUZGMENcdTgwMENcdTRFMERcdTY2MkZcdTUzRjNcdTRGQTdcdThGQjlcdTY4MEZcblx0XHRcdGxlYWYgPSB3b3Jrc3BhY2UuZ2V0TGVhZihmYWxzZSk7XG5cdFx0XHRpZiAobGVhZikge1xuXHRcdFx0XHRhd2FpdCBsZWFmLnNldFZpZXdTdGF0ZSh7XG5cdFx0XHRcdFx0dHlwZTogTUVNT19WSUVXX1RZUEUsXG5cdFx0XHRcdFx0YWN0aXZlOiB0cnVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZiAobGVhZikge1xuXHRcdFx0Ly8gXHU4MDVBXHU3MTI2XHU1MjMwXHU4OUM2XHU1NkZFXG5cdFx0XHR3b3Jrc3BhY2UucmV2ZWFsTGVhZihsZWFmKTtcblx0XHR9XG5cdH1cblx0XG59XG5cbi8vIFx1NEUzQU1lbW9WaWV3XHU2REZCXHU1MkEwXHU4MDVBXHU3MTI2XHU3RjE2XHU4RjkxXHU1NjY4XHU3Njg0XHU2NUI5XHU2Q0Q1XG5kZWNsYXJlIG1vZHVsZSBcIi4vc3JjL2NvbXBvbmVudHMvTWVtb1ZpZXdcIiB7XG4gICAgaW50ZXJmYWNlIE1lbW9WaWV3IHtcbiAgICAgICAgZm9jdXNFZGl0b3IoKTogdm9pZDtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgTWluZGVyU2V0dGluZ3MgfSBmcm9tICcuL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE1pbmRlclNldHRpbmdzID0ge1xuICAgIG5vdGVzRm9sZGVyOiAnbWluZGVyJyxcbiAgICBkYXRlRm9ybWF0OiAnWVlZWS1NTS1ERCBISDptbTpzcycsXG4gICAgZGlzcGxheUNvdW50OiA1MCxcbiAgICBkZWZhdWx0U29ydDogJ2NyZWF0ZVRpbWUnLFxuICAgIG9wZW5PblN0YXJ0dXA6IGZhbHNlLFxufTtcblxuZXhwb3J0IGNsYXNzIE1pbmRlclNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBwbHVnaW46IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IGFueSkge1xuICAgICAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29udGFpbmVyRWwuY3JlYXRlRWwoJ2gyJywgeyB0ZXh0OiAnTWluZGVyIFx1OEJCRVx1N0Y2RScgfSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHU3QjE0XHU4QkIwXHU1QjU4XHU1MEE4XHU4REVGXHU1Rjg0JylcbiAgICAgICAgICAgIC5zZXREZXNjKCdcdTYzMDdcdTVCOUFcdTRGRERcdTVCNThcdTdCMTRcdThCQjBcdTc2ODRcdTY1ODdcdTRFRjZcdTU5MzlcdThERUZcdTVGODQnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdcdTRGOEJcdTU5ODI6IG1pbmRlcicpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLm5vdGVzRm9sZGVyKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mubm90ZXNGb2xkZXIgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHU2NUU1XHU2NzFGXHU2ODNDXHU1RjBGJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdcdTdCMTRcdThCQjBcdTc2ODRcdTY1RTVcdTY3MUZcdTY2M0VcdTc5M0FcdTY4M0NcdTVGMEYnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCdZWVlZLU1NLUREIEhIOm1tOnNzJylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZGF0ZUZvcm1hdClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRhdGVGb3JtYXQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHU2NjNFXHU3OTNBXHU2NTcwXHU5MUNGJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdcdTZCQ0ZcdTRFMkFcdTg5QzZcdTU2RkVcdTY2M0VcdTc5M0FcdTc2ODRcdTdCMTRcdThCQjBcdTY1NzBcdTkxQ0ZcdTRFMEFcdTk2NTAnKVxuICAgICAgICAgICAgLmFkZFRleHQodGV4dCA9PiB0ZXh0XG4gICAgICAgICAgICAgICAgLnNldFBsYWNlaG9sZGVyKCc1MCcpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKFN0cmluZyh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kaXNwbGF5Q291bnQpKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbnVtVmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKG51bVZhbHVlKSAmJiBudW1WYWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmRpc3BsYXlDb3VudCA9IG51bVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIFxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdcdTlFRDhcdThCQTRcdTYzOTJcdTVFOEYnKVxuICAgICAgICAgICAgLnNldERlc2MoJ1x1N0IxNFx1OEJCMFx1NzY4NFx1OUVEOFx1OEJBNFx1NjM5Mlx1NUU4Rlx1NjVCOVx1NUYwRicpXG4gICAgICAgICAgICAuYWRkRHJvcGRvd24oZHJvcGRvd24gPT4gZHJvcGRvd25cbiAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdjcmVhdGVUaW1lJywgJ1x1NjMwOVx1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNFx1NjM5Mlx1NUU4RicpXG4gICAgICAgICAgICAgICAgLmFkZE9wdGlvbigndXBkYXRlVGltZScsICdcdTYzMDlcdTdGMTZcdThGOTFcdTY1RjZcdTk1RjRcdTYzOTJcdTVFOEYnKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kZWZhdWx0U29ydClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlOiAnY3JlYXRlVGltZScgfCAndXBkYXRlVGltZScpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuZGVmYXVsdFNvcnQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICBcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnXHU4RjZGXHU0RUY2XHU1NDJGXHU1MkE4XHU2NUY2XHU2MjUzXHU1RjAwXHU2M0QyXHU0RUY2JylcbiAgICAgICAgICAgIC5zZXREZXNjKCdPYnNpZGlhblx1NTQyRlx1NTJBOFx1NjVGNlx1ODFFQVx1NTJBOFx1NjI1M1x1NUYwME1pbmRlclx1NjNEMlx1NEVGNicpXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mub3Blbk9uU3RhcnR1cClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLm9wZW5PblN0YXJ0dXAgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cbn0gIiwgImltcG9ydCB7IEFwcCwgSXRlbVZpZXcsIE5vdGljZSwgV29ya3NwYWNlTGVhZiwgc2V0SWNvbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTWluZGVyU2V0dGluZ3MgfSBmcm9tIFwiLi4vdHlwZXNcIjtcbmltcG9ydCB7IE1lbW9TZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL21lbW9TZXJ2aWNlXCI7XG5pbXBvcnQgeyBUYWdTZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL3RhZ1NlcnZpY2VcIjtcbmltcG9ydCB7IE1lbW9FZGl0b3IgfSBmcm9tIFwiLi9NZW1vRWRpdG9yXCI7XG5pbXBvcnQgeyBNZW1vSXRlbUNvbXBvbmVudCB9IGZyb20gXCIuL01lbW9JdGVtXCI7XG5pbXBvcnQgeyBUYWdzQmFyIH0gZnJvbSBcIi4vVGFnc0JhclwiO1xuaW1wb3J0IHsgTWVtb0l0ZW0sIFZpZXdUeXBlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBNRU1PX1ZJRVdfVFlQRSA9IFwibWluZGVyLW1lbW8tdmlld1wiO1xuXG5leHBvcnQgY2xhc3MgTWVtb1ZpZXcgZXh0ZW5kcyBJdGVtVmlldyB7XG5cdHByaXZhdGUgc2V0dGluZ3M6IE1pbmRlclNldHRpbmdzO1xuXHRwcml2YXRlIG1lbW9TZXJ2aWNlOiBNZW1vU2VydmljZTtcblx0cHJpdmF0ZSB0YWdTZXJ2aWNlOiBUYWdTZXJ2aWNlO1xuXHRwcml2YXRlIG1lbW9zOiBNZW1vSXRlbVtdID0gW107XG5cdHByaXZhdGUgZWRpdG9yOiBNZW1vRWRpdG9yO1xuXHRwcml2YXRlIHRhZ3NCYXI6IFRhZ3NCYXI7XG5cdHByaXZhdGUgbWVtb0NvbnRlbnRFbDogSFRNTEVsZW1lbnQ7XG5cdHByaXZhdGUgbWVtb3NDb250YWluZXI6IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIGN1cnJlbnRWaWV3VHlwZTogVmlld1R5cGUgPSBWaWV3VHlwZS5BTEw7XG5cdHByaXZhdGUgY3VycmVudFRhZzogc3RyaW5nID0gXCJcIjtcblx0cHJpdmF0ZSBzZWFyY2hUZXh0OiBzdHJpbmcgPSBcIlwiO1xuXHRwcml2YXRlIGN1cnJlbnRFZGl0aW5nTWVtb0lkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblx0cHJpdmF0ZSBtZW1vQ29tcG9uZW50czogTWFwPHN0cmluZywgTWVtb0l0ZW1Db21wb25lbnQ+ID0gbmV3IE1hcCgpO1xuXHRwcml2YXRlIHNlYXJjaEVsOiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSBzZWFyY2hCdXR0b246IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIGlzU2VhcmNoVmlzaWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKGxlYWY6IFdvcmtzcGFjZUxlYWYsIHNldHRpbmdzOiBNaW5kZXJTZXR0aW5ncykge1xuXHRcdHN1cGVyKGxlYWYpO1xuXG5cdFx0dGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuXHRcdHRoaXMubWVtb1NlcnZpY2UgPSBuZXcgTWVtb1NlcnZpY2UodGhpcy5hcHAsIHRoaXMuc2V0dGluZ3Mubm90ZXNGb2xkZXIpO1xuXHRcdHRoaXMudGFnU2VydmljZSA9IG5ldyBUYWdTZXJ2aWNlKHRoaXMuYXBwLCB0aGlzLm1lbW9TZXJ2aWNlKTtcblx0fVxuXG5cdGdldFZpZXdUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIE1FTU9fVklFV19UWVBFO1xuXHR9XG5cblx0Z2V0RGlzcGxheVRleHQoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gXCJNaW5kZXJcIjtcblx0fVxuXG5cdGdldEljb24oKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gXCJsaWdodGJ1bGJcIjtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXHRcdGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cblx0XHQvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTY3MERcdTUyQTFcblx0XHRhd2FpdCB0aGlzLm1lbW9TZXJ2aWNlLmluaXRpYWxpemUoKTtcblxuXHRcdC8vIFx1NUJCOVx1NTY2OFx1NUUwM1x1NUM0MFxuXHRcdGNvbnRhaW5lckVsLmFkZENsYXNzKFwibWluZGVyLWNvbnRhaW5lclwiKTtcblxuXHRcdC8vIFx1N0YxNlx1OEY5MVx1NTY2OFx1NTMzQVx1NTdERlxuXHRcdGNvbnN0IGVkaXRvckVsID0gY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1pbmRlci1lZGl0b3ItYXJlYVwiIH0pO1xuXHRcdHRoaXMuZWRpdG9yID0gbmV3IE1lbW9FZGl0b3Ioe1xuXHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHRcdG1lbW9TZXJ2aWNlOiB0aGlzLm1lbW9TZXJ2aWNlLFxuXHRcdFx0cGxhY2Vob2xkZXI6IFwiXHU4RjkzXHU1MTY1XHU0RjYwXHU3Njg0XHU2MEYzXHU2Q0Q1Li4uXCIsXG5cdFx0XHRvblN1Ym1pdDogYXN5bmMgKG1lbW8pID0+IHtcblx0XHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2NjJGXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXHVGRjBDXHU5NzAwXHU4OTgxXHU2RTA1XHU5NjY0XHU3RjE2XHU4RjkxXHU2ODA3XHU4QkIwXG5cdFx0XHRcdGlmICh0aGlzLmN1cnJlbnRFZGl0aW5nTWVtb0lkKSB7XG5cdFx0XHRcdFx0Ly8gXHU5MUNEXHU3RjZFXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXG5cdFx0XHRcdFx0dGhpcy5jbGVhckVkaXRpbmdTdGF0ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHRoaXMucmVmcmVzaE1lbW9zKCk7XG5cdFx0XHRcdGF3YWl0IHRoaXMudGFnc0Jhcj8ucmVmcmVzaCgpO1xuXHRcdFx0fSxcblx0XHRcdG9uQ2FuY2VsOiAoKSA9PiB7XG5cdFx0XHRcdC8vIFx1NTNENlx1NkQ4OFx1N0YxNlx1OEY5MVxuXHRcdFx0XHR0aGlzLmNsZWFyRWRpdGluZ1N0YXRlKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdHRoaXMuZWRpdG9yLnJlbmRlcihlZGl0b3JFbCk7XG5cblx0XHQvLyBcdTk4NzZcdTkwRThcdTY0Q0RcdTRGNUNcdTY4MEYgLSBcdTUzRUFcdTc1MjhcdTRFOEVcdTY0MUNcdTdEMjJcdTY4NDZcdUZGMENcdTlFRDhcdThCQTRcdTk2OTBcdTg1Q0Zcblx0XHRjb25zdCB0b3BCYXJFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7IGNsczogXCJtaW5kZXItdG9wLWJhclwiIH0pO1xuXG5cdFx0Ly8gXHU2NDFDXHU3RDIyXHU2ODQ2XG5cdFx0dGhpcy5zZWFyY2hFbCA9IHRvcEJhckVsLmNyZWF0ZURpdih7IGNsczogXCJtaW5kZXItc2VhcmNoXCIgfSk7XG5cdFx0dGhpcy5zZWFyY2hFbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IC8vIFx1OUVEOFx1OEJBNFx1OTY5MFx1ODVDRlx1NjQxQ1x1N0QyMlx1Njg0NlxuXHRcdFxuXHRcdGNvbnN0IHNlYXJjaElucHV0ID0gdGhpcy5zZWFyY2hFbC5jcmVhdGVFbChcImlucHV0XCIsIHtcblx0XHRcdHR5cGU6IFwidGV4dFwiLFxuXHRcdFx0cGxhY2Vob2xkZXI6IFwiXHU2NDFDXHU3RDIyXHU3QjE0XHU4QkIwLi4uXCIsXG5cdFx0XHRjbHM6IFwibWluZGVyLXNlYXJjaC1pbnB1dFwiLFxuXHRcdH0pO1xuXHRcdHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuXHRcdFx0dGhpcy5zZWFyY2hUZXh0ID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuXHRcdFx0dGhpcy5yZWZyZXNoTWVtb3MoKTtcblx0XHR9KTtcblx0XHRcblx0XHQvLyBcdTc2RDFcdTU0MkNFU0NcdTk1MkVcdTUxNzNcdTk1RURcdTY0MUNcdTdEMjJcdTY4NDZcblx0XHRzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCAoZSkgPT4ge1xuXHRcdFx0aWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG5cdFx0XHRcdHRoaXMuaGlkZVNlYXJjaCgpO1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBcdTY4MDdcdTdCN0VcdTY4MEZcblx0XHRjb25zdCB0YWdzQmFyRWwgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6IFwibWluZGVyLXRhZ3MtYXJlYVwiIH0pO1xuXHRcdFxuXHRcdC8vIFx1NjMwOVx1OTRBRVx1NUJCOVx1NTY2OFxuXHRcdGNvbnN0IGJ1dHRvbnNDb250YWluZXIgPSB0YWdzQmFyRWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1pbmRlci1idXR0b25zLWNvbnRhaW5lclwiIH0pO1xuXHRcdFxuXHRcdC8vIFx1NTIzN1x1NjVCMFx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IHJlZnJlc2hCdXR0b24gPSBidXR0b25zQ29udGFpbmVyLmNyZWF0ZURpdih7IGNsczogXCJtaW5kZXItcmVmcmVzaC1idXR0b25cIiB9KTtcblx0XHRzZXRJY29uKHJlZnJlc2hCdXR0b24sIFwicmVmcmVzaC1jd1wiKTtcblx0XHRyZWZyZXNoQnV0dG9uLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIiwgXCJcdTUyMzdcdTY1QjBcdTdCMTRcdThCQjBcIik7XG5cdFx0cmVmcmVzaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xuXHRcdFx0YXdhaXQgdGhpcy5yZWZyZXNoTWVtb3MoKTtcblx0XHRcdGF3YWl0IHRoaXMudGFnc0Jhcj8ucmVmcmVzaCgpO1xuXHRcdFx0bmV3IE5vdGljZShcIlx1N0IxNFx1OEJCMFx1NURGMlx1NTIzN1x1NjVCMFwiKTtcblx0XHR9KTtcblx0XHRcblx0XHQvLyBcdTY0MUNcdTdEMjJcdTYzMDlcdTk0QUVcblx0XHR0aGlzLnNlYXJjaEJ1dHRvbiA9IGJ1dHRvbnNDb250YWluZXIuY3JlYXRlRGl2KHsgY2xzOiBcIm1pbmRlci1zZWFyY2gtYnV0dG9uXCIgfSk7XG5cdFx0c2V0SWNvbih0aGlzLnNlYXJjaEJ1dHRvbiwgXCJzZWFyY2hcIik7XG5cdFx0dGhpcy5zZWFyY2hCdXR0b24uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCBcIlx1NjQxQ1x1N0QyMlx1N0IxNFx1OEJCMFwiKTtcblx0XHR0aGlzLnNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdFx0dGhpcy50b2dnbGVTZWFyY2hWaXNpYmlsaXR5KCk7XG5cdFx0fSk7XG5cdFx0XG5cdFx0dGhpcy50YWdzQmFyID0gbmV3IFRhZ3NCYXIoe1xuXHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHRcdHRhZ1NlcnZpY2U6IHRoaXMudGFnU2VydmljZSxcblx0XHRcdG9uVGFnQ2xpY2s6ICh0YWdOYW1lKSA9PiB7XG5cdFx0XHRcdHRoaXMuY3VycmVudFRhZyA9IHRhZ05hbWU7XG5cdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NzBCOVx1NTFGQlx1NjgwN1x1N0I3RVx1RkYwQ1x1OEJCRVx1N0Y2RVx1NUY1M1x1NTI0RFx1ODlDNlx1NTZGRVx1N0M3Qlx1NTc4Qlx1NEUzQVx1NjgwN1x1N0I3RVx1ODlDNlx1NTZGRVxuXHRcdFx0XHR0aGlzLmN1cnJlbnRWaWV3VHlwZSA9IHRhZ05hbWUgPyBWaWV3VHlwZS5UQUcgOiBWaWV3VHlwZS5BTEw7XG5cdFx0XHRcdHRoaXMucmVmcmVzaE1lbW9zKCk7XG5cdFx0XHR9LFxuXHRcdH0pO1xuXHRcdGF3YWl0IHRoaXMudGFnc0Jhci5yZW5kZXIodGFnc0JhckVsKTtcblxuXHRcdC8vIFx1NTE4NVx1NUJCOVx1NTMzQVx1NTdERlxuXHRcdHRoaXMubWVtb0NvbnRlbnRFbCA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdih7XG5cdFx0XHRjbHM6IFwibWluZGVyLWNvbnRlbnQtYXJlYVwiLFxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU3QjE0XHU4QkIwXHU1QkI5XHU1NjY4XG5cdFx0dGhpcy5tZW1vc0NvbnRhaW5lciA9IHRoaXMubWVtb0NvbnRlbnRFbC5jcmVhdGVEaXYoe1xuXHRcdFx0Y2xzOiBcIm1pbmRlci1tZW1vcy1jb250YWluZXJcIixcblx0XHR9KTtcblxuXHRcdC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NTJBMFx1OEY3RFx1N0IxNFx1OEJCMFxuXHRcdHRoaXMucmVmcmVzaE1lbW9zKCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBcdTY2M0VcdTc5M0FcdTY0MUNcdTdEMjJcdTY4NDZcblx0ICovXG5cdHByaXZhdGUgc2hvd1NlYXJjaCgpOiB2b2lkIHtcblx0XHR0aGlzLmlzU2VhcmNoVmlzaWJsZSA9IHRydWU7XG5cdFx0dGhpcy5zZWFyY2hFbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdHRoaXMuc2VhcmNoQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XG5cdFx0XG5cdFx0Ly8gXHU4MDVBXHU3MTI2XHU2NDFDXHU3RDIyXHU2ODQ2XG5cdFx0Y29uc3Qgc2VhcmNoSW5wdXQgPSB0aGlzLnNlYXJjaEVsLnF1ZXJ5U2VsZWN0b3IoXCIubWluZGVyLXNlYXJjaC1pbnB1dFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXHRcdGlmIChzZWFyY2hJbnB1dCkge1xuXHRcdFx0c2V0VGltZW91dCgoKSA9PiBzZWFyY2hJbnB1dC5mb2N1cygpLCAxMCk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogXHU5NjkwXHU4NUNGXHU2NDFDXHU3RDIyXHU2ODQ2XG5cdCAqL1xuXHRwcml2YXRlIGhpZGVTZWFyY2goKTogdm9pZCB7XG5cdFx0dGhpcy5pc1NlYXJjaFZpc2libGUgPSBmYWxzZTtcblx0XHR0aGlzLnNlYXJjaEVsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHR0aGlzLnNlYXJjaEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xuXHRcdFxuXHRcdC8vIFx1NkUwNVx1N0E3QVx1NjQxQ1x1N0QyMlx1NTE4NVx1NUJCOVxuXHRcdGNvbnN0IHNlYXJjaElucHV0ID0gdGhpcy5zZWFyY2hFbC5xdWVyeVNlbGVjdG9yKFwiLm1pbmRlci1zZWFyY2gtaW5wdXRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcblx0XHRpZiAoc2VhcmNoSW5wdXQpIHtcblx0XHRcdHNlYXJjaElucHV0LnZhbHVlID0gXCJcIjtcblx0XHRcdHRoaXMuc2VhcmNoVGV4dCA9IFwiXCI7XG5cdFx0XHR0aGlzLnJlZnJlc2hNZW1vcygpO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFx1NTIwN1x1NjM2Mlx1NjQxQ1x1N0QyMlx1Njg0Nlx1NzY4NFx1NTNFRlx1ODlDMVx1NjAyN1xuXHQgKi9cblx0cHJpdmF0ZSB0b2dnbGVTZWFyY2hWaXNpYmlsaXR5KCk6IHZvaWQge1xuXHRcdGlmICh0aGlzLmlzU2VhcmNoVmlzaWJsZSkge1xuXHRcdFx0dGhpcy5oaWRlU2VhcmNoKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuc2hvd1NlYXJjaCgpO1xuXHRcdH1cblx0fVxuXG5cdGFzeW5jIG9uQ2xvc2UoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gXHU2RTA1XHU3NDA2XHU1REU1XHU0RjVDXG5cdH1cblxuXHQvKipcblx0ICogXHU1MjM3XHU2NUIwXHU3QjE0XHU4QkIwXHU1MjE3XHU4ODY4XG5cdCAqL1xuXHRhc3luYyByZWZyZXNoTWVtb3MoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dGhpcy5tZW1vc0NvbnRhaW5lci5lbXB0eSgpO1xuXHRcdHRoaXMubWVtb0NvbXBvbmVudHMuY2xlYXIoKTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBcdTY4MzlcdTYzNkVcdTVGNTNcdTUyNERcdTg5QzZcdTU2RkVcdTdDN0JcdTU3OEJcdTgzQjdcdTUzRDZcdTdCMTRcdThCQjBcblx0XHRcdHN3aXRjaCAodGhpcy5jdXJyZW50Vmlld1R5cGUpIHtcblx0XHRcdFx0Y2FzZSBWaWV3VHlwZS5UQUc6XG5cdFx0XHRcdFx0aWYgKHRoaXMuY3VycmVudFRhZykge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW1vcyA9IGF3YWl0IHRoaXMubWVtb1NlcnZpY2Uuc2VhcmNoTWVtb3Moe1xuXHRcdFx0XHRcdFx0XHR0YWdzOiBbdGhpcy5jdXJyZW50VGFnXSxcblx0XHRcdFx0XHRcdFx0dGV4dDogdGhpcy5zZWFyY2hUZXh0LFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRoaXMubWVtb3MgPSBhd2FpdCB0aGlzLm1lbW9TZXJ2aWNlLmdldEFsbE1lbW9zKFxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmRpc3BsYXlDb3VudCxcblx0XHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5kZWZhdWx0U29ydFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0Y2FzZSBWaWV3VHlwZS5BTEw6XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0aWYgKHRoaXMuc2VhcmNoVGV4dCkge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW1vcyA9IGF3YWl0IHRoaXMubWVtb1NlcnZpY2Uuc2VhcmNoTWVtb3Moe1xuXHRcdFx0XHRcdFx0XHR0ZXh0OiB0aGlzLnNlYXJjaFRleHQsXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhpcy5tZW1vcyA9IGF3YWl0IHRoaXMubWVtb1NlcnZpY2UuZ2V0QWxsTWVtb3MoXG5cdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZGlzcGxheUNvdW50LFxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmRlZmF1bHRTb3J0XG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU2RTMyXHU2N0QzXHU3QjE0XHU4QkIwXG5cdFx0XHRmb3IgKGNvbnN0IG1lbW8gb2YgdGhpcy5tZW1vcykge1xuXHRcdFx0XHRjb25zdCBtZW1vSXRlbUNvbXBvbmVudCA9IG5ldyBNZW1vSXRlbUNvbXBvbmVudCh7XG5cdFx0XHRcdFx0YXBwOiB0aGlzLmFwcCxcblx0XHRcdFx0XHRtZW1vLFxuXHRcdFx0XHRcdG1lbW9TZXJ2aWNlOiB0aGlzLm1lbW9TZXJ2aWNlLFxuXHRcdFx0XHRcdGRhdGVGb3JtYXQ6IHRoaXMuc2V0dGluZ3MuZGF0ZUZvcm1hdCxcblx0XHRcdFx0XHRzaG93VGltZXN0YW1wOiB0cnVlLCAvLyBcdTYwM0JcdTY2MkZcdTY2M0VcdTc5M0FcdTY1RjZcdTk1RjRcdTYyMzNcblx0XHRcdFx0XHRvbkVkaXQ6IChtZW1vKSA9PiB0aGlzLmVkaXRNZW1vKG1lbW8pLFxuXHRcdFx0XHRcdG9uRGVsZXRlOiAobWVtbykgPT4gdGhpcy5kZWxldGVNZW1vKG1lbW8pLFxuXHRcdFx0XHRcdG9uVXBkYXRlOiBhc3luYyAobWVtbykgPT4ge1xuXHRcdFx0XHRcdFx0Ly8gXHU1RjUzXHU3QjE0XHU4QkIwXHU1MTg1XHU1QkI5XHU2NkY0XHU2NUIwXHU1NDBFXHVGRjBDXHU1MjM3XHU2NUIwXHU2ODA3XHU3QjdFXHU2ODBGXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnRhZ3NCYXI/LnJlZnJlc2goKTtcblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU1RjUzXHU1MjREXHU2NjJGXHU2ODA3XHU3QjdFXHU4OUM2XHU1NkZFXHVGRjBDXHU0RTE0XHU3QjE0XHU4QkIwXHU3Njg0XHU2ODA3XHU3QjdFXHU1M0QxXHU3NTFGXHU0RTg2XHU1M0Q4XHU1MzE2XHVGRjBDXHU1M0VGXHU4MEZEXHU5NzAwXHU4OTgxXHU5MUNEXHU2NUIwXHU1MkEwXHU4RjdEXHU3QjE0XHU4QkIwXHU1MjE3XHU4ODY4XG5cdFx0XHRcdFx0XHRpZiAodGhpcy5jdXJyZW50Vmlld1R5cGUgPT09IFZpZXdUeXBlLlRBRyAmJiB0aGlzLmN1cnJlbnRUYWcpIHtcblx0XHRcdFx0XHRcdFx0Ly8gXHU2OEMwXHU2N0U1XHU2NkY0XHU2NUIwXHU1NDBFXHU3Njg0XHU3QjE0XHU4QkIwXHU2NjJGXHU1NDI2XHU1MzA1XHU1NDJCXHU1RjUzXHU1MjREXHU2ODA3XHU3QjdFXG5cdFx0XHRcdFx0XHRcdGNvbnN0IGhhc0N1cnJlbnRUYWcgPSBtZW1vLnRhZ3MuaW5jbHVkZXModGhpcy5jdXJyZW50VGFnKTtcblx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NEUwRFx1NTMwNVx1NTQyQlx1NUY1M1x1NTI0RFx1NjgwN1x1N0I3RVx1RkYwQ1x1NTIxOVx1OTcwMFx1ODk4MVx1OTFDRFx1NjVCMFx1NTJBMFx1OEY3RFx1N0IxNFx1OEJCMFx1NTIxN1x1ODg2OFxuXHRcdFx0XHRcdFx0XHRpZiAoIWhhc0N1cnJlbnRUYWcpIHtcblx0XHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hNZW1vcygpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHRjb21wb25lbnQ6IHRoaXMsIC8vIFx1NEYyMFx1OTAxMlx1NUY1M1x1NTI0RFZpZXdcdTdFQzRcdTRFRjZcdTdFRDlNZW1vSXRlbUNvbXBvbmVudFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRtZW1vSXRlbUNvbXBvbmVudC5yZW5kZXIodGhpcy5tZW1vc0NvbnRhaW5lcik7XG5cblx0XHRcdFx0Ly8gXHU1QjU4XHU1MEE4XHU3RUM0XHU0RUY2XHU1RjE1XHU3NTI4XG5cdFx0XHRcdHRoaXMubWVtb0NvbXBvbmVudHMuc2V0KG1lbW8uaWQsIG1lbW9JdGVtQ29tcG9uZW50KTtcblxuXHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTY2MkZcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdTc2ODRcdTdCMTRcdThCQjBcdUZGMENcdTY4MDdcdThCQjBcdTcyQjZcdTYwMDFcblx0XHRcdFx0aWYgKHRoaXMuY3VycmVudEVkaXRpbmdNZW1vSWQgPT09IG1lbW8uaWQpIHtcblx0XHRcdFx0XHRtZW1vSXRlbUNvbXBvbmVudC5zZXRFZGl0aW5nU3RhdGUodHJ1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gXHU2NjNFXHU3OTNBXHU2NUUwXHU3RUQzXHU2NzlDXHU2M0QwXHU3OTNBXG5cdFx0XHRpZiAodGhpcy5tZW1vcy5sZW5ndGggPT09IDApIHtcblx0XHRcdFx0Y29uc3QgZW1wdHlFbCA9IHRoaXMubWVtb3NDb250YWluZXIuY3JlYXRlRGl2KHtcblx0XHRcdFx0XHRjbHM6IFwibWluZGVyLWVtcHR5LXN0YXRlXCIsXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRlbXB0eUVsLnNldFRleHQoXCJcdTY2ODJcdTY1RTBcdTdCMTRcdThCQjBcIik7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJcdTUyQTBcdThGN0RcdTdCMTRcdThCQjBcdTU5MzFcdThEMjVcIiwgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZShcIlx1NTJBMFx1OEY3RFx1N0IxNFx1OEJCMFx1NTkzMVx1OEQyNVwiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU3RjE2XHU4RjkxXHU3QjE0XHU4QkIwXG5cdCAqIEBwYXJhbSBtZW1vIFx1N0IxNFx1OEJCMFxuXHQgKi9cblx0ZWRpdE1lbW8obWVtbzogTWVtb0l0ZW0pOiB2b2lkIHtcblx0XHQvLyBcdTU5ODJcdTY3OUNcdTVGNTNcdTUyNERcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdTUxNzZcdTRFRDZcdTdCMTRcdThCQjBcdUZGMENcdTUxNDhcdTRGRERcdTVCNThcdTUxNzZcdTY2RjRcdTY1Mzlcblx0XHRpZiAodGhpcy5jdXJyZW50RWRpdGluZ01lbW9JZCAmJiB0aGlzLmN1cnJlbnRFZGl0aW5nTWVtb0lkICE9PSBtZW1vLmlkKSB7XG5cdFx0XHQvLyBcdTgzQjdcdTUzRDZcdTVGNTNcdTUyNERcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdTc2ODRcdTdCMTRcdThCQjBcdTdFQzRcdTRFRjZcblx0XHRcdGNvbnN0IGN1cnJlbnRFZGl0aW5nTWVtb0NvbXBvbmVudCA9IHRoaXMubWVtb0NvbXBvbmVudHMuZ2V0KHRoaXMuY3VycmVudEVkaXRpbmdNZW1vSWQpO1xuXHRcdFx0aWYgKGN1cnJlbnRFZGl0aW5nTWVtb0NvbXBvbmVudCkge1xuXHRcdFx0XHQvLyBcdTgzQjdcdTUzRDZcdTUxODVcdTgwNTRcdTdGMTZcdThGOTFcdTU2NjhcdTVCOUVcdTRGOEJcdTVFNzZcdTg5RTZcdTUzRDFcdTRGRERcdTVCNThcdTY0Q0RcdTRGNUNcblx0XHRcdFx0Y3VycmVudEVkaXRpbmdNZW1vQ29tcG9uZW50LnNhdmVDdXJyZW50RWRpdCgpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFx1NkUwNVx1OTY2NFx1NEU0Qlx1NTI0RFx1NzY4NFx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVx1NjgwN1x1OEJCMFxuXHRcdHRoaXMuY2xlYXJFZGl0aW5nU3RhdGUoKTtcblxuXHRcdC8vIFx1OEJCRVx1N0Y2RVx1NjVCMFx1NzY4NFx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVxuXHRcdHRoaXMuY3VycmVudEVkaXRpbmdNZW1vSWQgPSBtZW1vLmlkO1xuXG5cdFx0Ly8gXHU2ODA3XHU4QkIwXHU1RjUzXHU1MjREXHU3QjE0XHU4QkIwXHU0RTNBXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXG5cdFx0Y29uc3QgbWVtb0NvbXBvbmVudCA9IHRoaXMubWVtb0NvbXBvbmVudHMuZ2V0KG1lbW8uaWQpO1xuXHRcdGlmIChtZW1vQ29tcG9uZW50KSB7XG5cdFx0XHRtZW1vQ29tcG9uZW50LnNldEVkaXRpbmdTdGF0ZSh0cnVlKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU3ODZFXHU0RkREXHU3QjE0XHU4QkIwXHU1NzI4XHU4OUM2XHU5MUNFXHU0RTJEXG5cdFx0XHRjb25zdCBtZW1vRWwgPSBtZW1vQ29tcG9uZW50LmdldENvbnRhaW5lckVsKCk7XG5cdFx0XHRpZiAobWVtb0VsKSB7XG5cdFx0XHRcdC8vIFx1NEY3Rlx1NzUyOFx1NjZGNFx1NUU3M1x1NkVEMVx1NzY4NFx1NkVEQVx1NTJBOFx1RkYwQ1x1NEUwRFx1NjUzOVx1NTNEOFx1NEY0RFx1N0Y2RVxuXHRcdFx0XHRtZW1vRWwuc2Nyb2xsSW50b1ZpZXcoe1xuXHRcdFx0YmVoYXZpb3I6IFwic21vb3RoXCIsXG5cdFx0XHRcdFx0YmxvY2s6IFwibmVhcmVzdFwiIC8vIFx1NTNFQVx1NTcyOFx1OTcwMFx1ODk4MVx1NjVGNlx1NkVEQVx1NTJBOFxuXHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcblx0ICogQHBhcmFtIG1lbW8gXHU3QjE0XHU4QkIwXG5cdCAqL1xuXHRhc3luYyBkZWxldGVNZW1vKG1lbW86IE1lbW9JdGVtKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVx1RkYwQ1x1NTE0OFx1NkUwNVx1OTY2NFx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVxuXHRcdFx0aWYgKHRoaXMuY3VycmVudEVkaXRpbmdNZW1vSWQgPT09IG1lbW8uaWQpIHtcblx0XHRcdFx0dGhpcy5jbGVhckVkaXRpbmdTdGF0ZSgpO1xuXHRcdFx0fVxuXG5cdFx0XHRhd2FpdCB0aGlzLm1lbW9TZXJ2aWNlLmRlbGV0ZU1lbW8obWVtby5pZCk7XG5cdFx0XHRhd2FpdCB0aGlzLnJlZnJlc2hNZW1vcygpO1xuXHRcdFx0YXdhaXQgdGhpcy50YWdzQmFyLnJlZnJlc2goKTtcblx0XHRcdG5ldyBOb3RpY2UoXCJcdTdCMTRcdThCQjBcdTVERjJcdTUyMjBcdTk2NjRcIik7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJcdTUyMjBcdTk2NjRcdTdCMTRcdThCQjBcdTU5MzFcdThEMjVcIiwgZXJyb3IpO1xuXHRcdFx0bmV3IE5vdGljZShcIlx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFx1NTkzMVx1OEQyNVwiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU2RTA1XHU5NjY0XHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXG5cdCAqL1xuXHRjbGVhckVkaXRpbmdTdGF0ZSgpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5jdXJyZW50RWRpdGluZ01lbW9JZCkge1xuXHRcdFx0Ly8gXHU3OUZCXHU5NjY0XHU0RTRCXHU1MjREXHU3QjE0XHU4QkIwXHU3Njg0XHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXG5cdFx0XHRjb25zdCBwcmV2TWVtb0NvbXBvbmVudCA9IHRoaXMubWVtb0NvbXBvbmVudHMuZ2V0KFxuXHRcdFx0XHR0aGlzLmN1cnJlbnRFZGl0aW5nTWVtb0lkXG5cdFx0XHQpO1xuXHRcdFx0aWYgKHByZXZNZW1vQ29tcG9uZW50KSB7XG5cdFx0XHRcdHByZXZNZW1vQ29tcG9uZW50LnNldEVkaXRpbmdTdGF0ZShmYWxzZSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFx1OTFDRFx1N0Y2RVx1N0YxNlx1OEY5MUlEXG5cdFx0XHR0aGlzLmN1cnJlbnRFZGl0aW5nTWVtb0lkID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogXHU4MDVBXHU3MTI2XHU1MjMwXHU3RjE2XHU4RjkxXHU1NjY4XG5cdCAqL1xuXHRmb2N1c0VkaXRvcigpOiB2b2lkIHtcblx0XHRpZiAodGhpcy5lZGl0b3IpIHtcblx0XHRcdC8vIFx1NkVEQVx1NTJBOFx1NTIzMFx1N0YxNlx1OEY5MVx1NTY2OFxuXHRcdFx0dGhpcy5jb250YWluZXJFbFxuXHRcdFx0XHQucXVlcnlTZWxlY3RvcihcIi5taW5kZXItZWRpdG9yLWFyZWFcIilcblx0XHRcdFx0Py5zY3JvbGxJbnRvVmlldyh7XG5cdFx0XHRcdFx0YmVoYXZpb3I6IFwic21vb3RoXCIsXG5cdFx0XHRcdFx0YmxvY2s6IFwiY2VudGVyXCIsXG5cdFx0XHRcdH0pO1xuXG5cdFx0XHQvLyBcdTVDMURcdThCRDVcdTgwNUFcdTcxMjZcdTUyMzBcdTY1ODdcdTY3MkNcdTUzM0FcdTU3REZcblx0XHRcdGNvbnN0IHRleHRBcmVhRWwgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3IoXG5cdFx0XHRcdFwiLm1pbmRlci1lZGl0b3ItdGV4dGFyZWFcIlxuXHRcdFx0KSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXHRcdFx0aWYgKHRleHRBcmVhRWwpIHtcblx0XHRcdFx0dGV4dEFyZWFFbC5mb2N1cygpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgTWVtb0l0ZW0gfSBmcm9tIFwiLi4vdHlwZXNcIjtcclxuXHJcbi8qKlxyXG4gKiBcdTc4NkVcdTRGRERcdTY1ODdcdTRFRjZcdTU5MzlcdTVCNThcdTU3MjhcdUZGMENcdTU5ODJcdTY3OUNcdTRFMERcdTVCNThcdTU3MjhcdTUyMTlcdTUyMUJcdTVFRkFcclxuICogQHBhcmFtIGFwcCBPYnNpZGlhbiBBcHBcdTVCOUVcdTRGOEJcclxuICogQHBhcmFtIGZvbGRlclBhdGggXHU2NTg3XHU0RUY2XHU1OTM5XHU4REVGXHU1Rjg0XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZW5zdXJlRm9sZGVyRXhpc3RzKGFwcDogQXBwLCBmb2xkZXJQYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGZvbGRlckV4aXN0cyA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgoZm9sZGVyUGF0aCkgaW5zdGFuY2VvZiBURm9sZGVyO1xyXG4gICAgXHJcbiAgICBpZiAoIWZvbGRlckV4aXN0cykge1xyXG4gICAgICAgIGF3YWl0IGFwcC52YXVsdC5jcmVhdGVGb2xkZXIoZm9sZGVyUGF0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTg5RTNcdTY3OTBcdTY1ODdcdTRFRjZcdTU0MERcdTRFMkRcdTc2ODRcdTdCMTRcdThCQjBcdTUxNDNcdTY1NzBcdTYzNkVcclxuICogQHBhcmFtIGZpbGVOYW1lIFx1NjU4N1x1NEVGNlx1NTQwRFxyXG4gKiBAcmV0dXJucyBNZW1vSXRlbVx1OTBFOFx1NTIwNlx1NUM1RVx1NjAyN1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWVtb0ZpbGVOYW1lKGZpbGVOYW1lOiBzdHJpbmcpOiB7IGlkOiBzdHJpbmcsIGNyZWF0ZWRBdDogbnVtYmVyIH0ge1xyXG4gICAgLy8gXHU0RkVFXHU2NTM5XHU0RTNBXHU2NUIwXHU3Njg0XHU2NTg3XHU0RUY2XHU1NDBEXHU2ODNDXHU1RjBGXHVGRjFBbWluZGVyLXt0aW1lc3RhbXB9Lm1kXHJcbiAgICBjb25zdCBtYXRjaCA9IGZpbGVOYW1lLm1hdGNoKC9taW5kZXItKFxcZCspXFwubWQkLyk7XHJcbiAgICBcclxuICAgIGlmIChtYXRjaCAmJiBtYXRjaC5sZW5ndGggPj0gMikge1xyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6IHRpbWVzdGFtcC50b1N0cmluZygpLCAvLyBcdTRGN0ZcdTc1MjhcdTY1RjZcdTk1RjRcdTYyMzNcdTRGNUNcdTRFM0FJRFxyXG4gICAgICAgICAgICBjcmVhdGVkQXQ6IHRpbWVzdGFtcFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFx1NTk4Mlx1Njc5Q1x1NjgzQ1x1NUYwRlx1NEUwRFx1NTMzOVx1OTE0RFx1RkYwQ1x1NEY3Rlx1NzUyOFx1NUY1M1x1NTI0RFx1NjVGNlx1OTVGNFx1NTQ4Q1x1OTY4Rlx1NjczQUlEXHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpZDogbm93LnRvU3RyaW5nKCksXHJcbiAgICAgICAgY3JlYXRlZEF0OiBub3dcclxuICAgIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTc1MUZcdTYyMTBcdTU1MkZcdTRFMDBJRFxyXG4gKiBAcmV0dXJucyBcdTU1MkZcdTRFMDBJRFx1NUI1N1x1N0IyNlx1NEUzMlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlSWQoKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBEYXRlLm5vdygpLnRvU3RyaW5nKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTRFQ0VcdTdCMTRcdThCQjBcdTUxODVcdTVCQjlcdTRFMkRcdTYzRDBcdTUzRDZcdTY4MDdcdTdCN0VcclxuICogQHBhcmFtIGNvbnRlbnQgXHU3QjE0XHU4QkIwXHU1MTg1XHU1QkI5XHJcbiAqIEByZXR1cm5zIFx1NjgwN1x1N0I3RVx1NjU3MFx1N0VDNFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RUYWdzRnJvbUNvbnRlbnQoY29udGVudDogc3RyaW5nKTogc3RyaW5nW10ge1xyXG4gICAgY29uc3QgdGFnUmVnZXggPSAvIyhbXlxccyNdKykvZztcclxuICAgIGNvbnN0IG1hdGNoZXMgPSBjb250ZW50Lm1hdGNoKHRhZ1JlZ2V4KTtcclxuICAgIFxyXG4gICAgaWYgKCFtYXRjaGVzKSByZXR1cm4gW107XHJcbiAgICBcclxuICAgIC8vIFx1NzlGQlx1OTY2NCNcdTUyNERcdTdGMDBcdTVFNzZcdTUzQkJcdTkxQ0RcclxuICAgIHJldHVybiBbLi4ubmV3IFNldChtYXRjaGVzLm1hcCh0YWcgPT4gdGFnLnN1YnN0cmluZygxKSkpXTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFx1NTIxQlx1NUVGQVx1N0IxNFx1OEJCMFx1NjU4N1x1NEVGNlx1NTQwRFxyXG4gKiBAcGFyYW0gbWVtbyBcdTdCMTRcdThCQjBcdTY1NzBcdTYzNkVcclxuICogQHJldHVybnMgXHU2NTg3XHU0RUY2XHU1NDBEXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVtb0ZpbGVOYW1lKG1lbW86IE1lbW9JdGVtKTogc3RyaW5nIHtcclxuICAgIC8vIFx1NEZFRVx1NjUzOVx1NEUzQVx1NjVCMFx1NzY4NFx1NjU4N1x1NEVGNlx1NTQwRFx1NjgzQ1x1NUYwRlx1RkYxQW1pbmRlci17dGltZXN0YW1wfS5tZFxyXG4gICAgcmV0dXJuIGBtaW5kZXItJHttZW1vLmNyZWF0ZWRBdH0ubWRgO1xyXG59XHJcblxyXG4vKipcclxuICogXHU0RUNFXHU3QjE0XHU4QkIwXHU1MTg1XHU1QkI5XHU1MjFCXHU1RUZBTWFya2Rvd25cdTY1ODdcdTY3MkNcclxuICogQHBhcmFtIG1lbW8gXHU3QjE0XHU4QkIwXHU2NTcwXHU2MzZFXHJcbiAqIEByZXR1cm5zIE1hcmtkb3duXHU2NTg3XHU2NzJDXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWVtb01hcmtkb3duKG1lbW86IE1lbW9JdGVtKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHRhZ3NUZXh0ID0gbWVtby50YWdzLmxlbmd0aCA+IDAgPyBtZW1vLnRhZ3MubWFwKHRhZyA9PiBgIyR7dGFnfWApLmpvaW4oJyAnKSA6ICcnO1xyXG4gICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUobWVtby5jcmVhdGVkQXQpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICBcclxuICAgIHJldHVybiBgLS0tXHJcbmlkOiAke21lbW8uaWR9XHJcbmNyZWF0ZWQ6ICR7dGltZXN0YW1wfVxyXG51cGRhdGVkOiAke25ldyBEYXRlKG1lbW8udXBkYXRlZEF0KS50b0lTT1N0cmluZygpfVxyXG50YWdzOiAke3RhZ3NUZXh0fVxyXG4tLS1cclxuXHJcbiR7bWVtby5jb250ZW50fVxyXG5gO1xyXG59XHJcblxyXG4vKipcclxuICogXHU0RUNFTWFya2Rvd25cdTY1ODdcdTY3MkNcdTg5RTNcdTY3OTBcdTdCMTRcdThCQjBcclxuICogQHBhcmFtIGNvbnRlbnQgTWFya2Rvd25cdTY1ODdcdTY3MkNcclxuICogQHBhcmFtIGlkIFx1N0IxNFx1OEJCMElEXHJcbiAqIEBwYXJhbSBjcmVhdGVkQXQgXHU1MjFCXHU1RUZBXHU2NUY2XHU5NUY0XHJcbiAqIEByZXR1cm5zIFx1N0IxNFx1OEJCMFx1NjU3MFx1NjM2RVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWVtb01hcmtkb3duKGNvbnRlbnQ6IHN0cmluZywgaWQ6IHN0cmluZywgY3JlYXRlZEF0OiBudW1iZXIpOiBNZW1vSXRlbSB7XHJcbiAgICBjb25zdCBmcm9udE1hdHRlclJlZ2V4ID0gL14tLS1cXG4oW1xcc1xcU10qPylcXG4tLS1cXG4vO1xyXG4gICAgY29uc3QgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKGZyb250TWF0dGVyUmVnZXgpO1xyXG4gICAgXHJcbiAgICBsZXQgZnJvbnRNYXR0ZXI6IFJlY29yZDxzdHJpbmcsIGFueT4gPSB7fTtcclxuICAgIGxldCBtYWluQ29udGVudCA9IGNvbnRlbnQ7XHJcbiAgICBcclxuICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIGNvbnN0IGZyb250TWF0dGVyVGV4dCA9IG1hdGNoWzFdO1xyXG4gICAgICAgIGNvbnN0IGxpbmVzID0gZnJvbnRNYXR0ZXJUZXh0LnNwbGl0KCdcXG4nKTtcclxuICAgICAgICBcclxuICAgICAgICBsaW5lcy5mb3JFYWNoKGxpbmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCAuLi52YWx1ZVBhcnRzXSA9IGxpbmUuc3BsaXQoJzonKS5tYXAocGFydCA9PiBwYXJ0LnRyaW0oKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdmFsdWVQYXJ0cy5qb2luKCc6JykudHJpbSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgZnJvbnRNYXR0ZXJba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbWFpbkNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZyhtYXRjaFswXS5sZW5ndGgpLnRyaW0oKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gXHU2M0QwXHU1M0Q2XHU2ODA3XHU3QjdFXHJcbiAgICBjb25zdCB0YWdzID0gZnJvbnRNYXR0ZXIudGFncyA/IFxyXG4gICAgICAgIGZyb250TWF0dGVyLnRhZ3Muc3BsaXQoJyAnKS5maWx0ZXIoQm9vbGVhbikubWFwKCh0OiBzdHJpbmcpID0+IHQucmVwbGFjZSgvXiMvLCAnJykpIDogXHJcbiAgICAgICAgZXh0cmFjdFRhZ3NGcm9tQ29udGVudChtYWluQ29udGVudCk7XHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IGZyb250TWF0dGVyLmlkIHx8IGlkLFxyXG4gICAgICAgIGNvbnRlbnQ6IG1haW5Db250ZW50LFxyXG4gICAgICAgIGNyZWF0ZWRBdDogZnJvbnRNYXR0ZXIuY3JlYXRlZCA/IG5ldyBEYXRlKGZyb250TWF0dGVyLmNyZWF0ZWQpLmdldFRpbWUoKSA6IGNyZWF0ZWRBdCxcclxuICAgICAgICB1cGRhdGVkQXQ6IGZyb250TWF0dGVyLnVwZGF0ZWQgPyBuZXcgRGF0ZShmcm9udE1hdHRlci51cGRhdGVkKS5nZXRUaW1lKCkgOiBEYXRlLm5vdygpLFxyXG4gICAgICAgIHRhZ3NcclxuICAgIH07XHJcbn0gIiwgImltcG9ydCB7IEFwcCwgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XHJcbmltcG9ydCB7IE1lbW9JdGVtLCBTZWFyY2hRdWVyeSB9IGZyb20gJy4uL3R5cGVzJztcclxuaW1wb3J0IHsgXHJcbiAgICBlbnN1cmVGb2xkZXJFeGlzdHMsIFxyXG4gICAgZ2VuZXJhdGVJZCwgXHJcbiAgICBwYXJzZU1lbW9GaWxlTmFtZSwgXHJcbiAgICBjcmVhdGVNZW1vRmlsZU5hbWUsIFxyXG4gICAgY3JlYXRlTWVtb01hcmtkb3duLCBcclxuICAgIHBhcnNlTWVtb01hcmtkb3duLFxyXG4gICAgZXh0cmFjdFRhZ3NGcm9tQ29udGVudCBcclxufSBmcm9tICcuLi91dGlscy9maWxlJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW1vU2VydmljZSB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSBtZW1vRm9sZGVyOiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIG1lbW9Gb2xkZXI6IHN0cmluZykge1xyXG4gICAgICAgIHRoaXMuYXBwID0gYXBwO1xyXG4gICAgICAgIHRoaXMubWVtb0ZvbGRlciA9IG1lbW9Gb2xkZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTUyMURcdTU5Q0JcdTUzMTZcdUZGMENcdTc4NkVcdTRGRERcdTdCMTRcdThCQjBcdTY1ODdcdTRFRjZcdTU5MzlcdTVCNThcdTU3MjhcclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBhd2FpdCBlbnN1cmVGb2xkZXJFeGlzdHModGhpcy5hcHAsIHRoaXMubWVtb0ZvbGRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTUyMUJcdTVFRkFcdTY1QjBcdTdCMTRcdThCQjBcclxuICAgICAqIEBwYXJhbSBjb250ZW50IFx1N0IxNFx1OEJCMFx1NTE4NVx1NUJCOVxyXG4gICAgICogQHJldHVybnMgXHU1MjFCXHU1RUZBXHU3Njg0XHU3QjE0XHU4QkIwXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNyZWF0ZU1lbW8oY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxNZW1vSXRlbT4ge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgY29uc3QgaWQgPSBnZW5lcmF0ZUlkKCk7XHJcbiAgICAgICAgY29uc3QgdGFncyA9IGV4dHJhY3RUYWdzRnJvbUNvbnRlbnQoY29udGVudCk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbW86IE1lbW9JdGVtID0ge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgY29udGVudCxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBub3csXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbm93LFxyXG4gICAgICAgICAgICB0YWdzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgZmlsZU5hbWUgPSBjcmVhdGVNZW1vRmlsZU5hbWUobWVtbyk7XHJcbiAgICAgICAgY29uc3QgZmlsZVBhdGggPSBgJHt0aGlzLm1lbW9Gb2xkZXJ9LyR7ZmlsZU5hbWV9YDtcclxuICAgICAgICBjb25zdCBmaWxlQ29udGVudCA9IGNyZWF0ZU1lbW9NYXJrZG93bihtZW1vKTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5hcHAudmF1bHQuY3JlYXRlKGZpbGVQYXRoLCBmaWxlQ29udGVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiBtZW1vO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHU2NkY0XHU2NUIwXHU3QjE0XHU4QkIwXHJcbiAgICAgKiBAcGFyYW0gaWQgXHU3QjE0XHU4QkIwSURcclxuICAgICAqIEBwYXJhbSBjb250ZW50IFx1NjVCMFx1NzY4NFx1N0IxNFx1OEJCMFx1NTE4NVx1NUJCOVxyXG4gICAgICogQHJldHVybnMgXHU2NkY0XHU2NUIwXHU1NDBFXHU3Njg0XHU3QjE0XHU4QkIwXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZU1lbW8oaWQ6IHN0cmluZywgY29udGVudDogc3RyaW5nKTogUHJvbWlzZTxNZW1vSXRlbSB8IG51bGw+IHtcclxuICAgICAgICBjb25zdCBtZW1vID0gYXdhaXQgdGhpcy5nZXRNZW1vQnlJZChpZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFtZW1vIHx8ICFtZW1vLmxpbmtlZEZpbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB1cGRhdGVkTWVtbzogTWVtb0l0ZW0gPSB7XHJcbiAgICAgICAgICAgIC4uLm1lbW8sXHJcbiAgICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogRGF0ZS5ub3coKSxcclxuICAgICAgICAgICAgdGFnczogZXh0cmFjdFRhZ3NGcm9tQ29udGVudChjb250ZW50KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGZpbGVDb250ZW50ID0gY3JlYXRlTWVtb01hcmtkb3duKHVwZGF0ZWRNZW1vKTtcclxuICAgICAgICBhd2FpdCB0aGlzLmFwcC52YXVsdC5tb2RpZnkobWVtby5saW5rZWRGaWxlLCBmaWxlQ29udGVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiB1cGRhdGVkTWVtbztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFx1NTIyMFx1OTY2NFx1N0IxNFx1OEJCMFxyXG4gICAgICogQHBhcmFtIGlkIFx1N0IxNFx1OEJCMElEXHJcbiAgICAgKiBAcmV0dXJucyBcdTY2MkZcdTU0MjZcdTYyMTBcdTUyOUZcdTUyMjBcdTk2NjRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGVsZXRlTWVtbyhpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICAgICAgY29uc3QgbWVtbyA9IGF3YWl0IHRoaXMuZ2V0TWVtb0J5SWQoaWQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghbWVtbyB8fCAhbWVtby5saW5rZWRGaWxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHRoaXMuYXBwLnZhdWx0LmRlbGV0ZShtZW1vLmxpbmtlZEZpbGUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHU2ODM5XHU2MzZFSURcdTgzQjdcdTUzRDZcdTdCMTRcdThCQjBcclxuICAgICAqIEBwYXJhbSBpZCBcdTdCMTRcdThCQjBJRFxyXG4gICAgICogQHJldHVybnMgXHU3QjE0XHU4QkIwXHU2NTcwXHU2MzZFXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldE1lbW9CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPE1lbW9JdGVtIHwgbnVsbD4ge1xyXG4gICAgICAgIGNvbnN0IGZpbGVzID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZXMoKTtcclxuICAgICAgICBjb25zdCBtZW1vRmlsZSA9IGZpbGVzLmZpbmQoZmlsZSA9PiBcclxuICAgICAgICAgICAgZmlsZS5wYXRoLnN0YXJ0c1dpdGgodGhpcy5tZW1vRm9sZGVyKSAmJiBcclxuICAgICAgICAgICAgZmlsZS5uYW1lLmluY2x1ZGVzKGlkKVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGlmICghbWVtb0ZpbGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChtZW1vRmlsZSk7XHJcbiAgICAgICAgY29uc3QgeyBjcmVhdGVkQXQgfSA9IHBhcnNlTWVtb0ZpbGVOYW1lKG1lbW9GaWxlLm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IG1lbW8gPSBwYXJzZU1lbW9NYXJrZG93bihjb250ZW50LCBpZCwgY3JlYXRlZEF0KTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5tZW1vLFxyXG4gICAgICAgICAgICBsaW5rZWRGaWxlOiBtZW1vRmlsZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTdCMTRcdThCQjBcclxuICAgICAqIEBwYXJhbSBsaW1pdCBcdTk2NTBcdTUyMzZcdTY1NzBcdTkxQ0ZcclxuICAgICAqIEBwYXJhbSBzb3J0IFx1NjM5Mlx1NUU4Rlx1NjVCOVx1NUYwRlxyXG4gICAgICogQHJldHVybnMgXHU3QjE0XHU4QkIwXHU1MjE3XHU4ODY4XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEFsbE1lbW9zKGxpbWl0PzogbnVtYmVyLCBzb3J0OiAnY3JlYXRlVGltZScgfCAndXBkYXRlVGltZScgPSAnY3JlYXRlVGltZScpOiBQcm9taXNlPE1lbW9JdGVtW10+IHtcclxuICAgICAgICBjb25zdCBmaWxlcyA9IHRoaXMuYXBwLnZhdWx0LmdldEZpbGVzKCkuZmlsdGVyKFxyXG4gICAgICAgICAgICBmaWxlID0+IGZpbGUucGF0aC5zdGFydHNXaXRoKHRoaXMubWVtb0ZvbGRlcikgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCdcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBtZW1vczogTWVtb0l0ZW1bXSA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgZmlsZXMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHsgaWQsIGNyZWF0ZWRBdCB9ID0gcGFyc2VNZW1vRmlsZU5hbWUoZmlsZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbWVtbyA9IHBhcnNlTWVtb01hcmtkb3duKGNvbnRlbnQsIGlkLCBjcmVhdGVkQXQpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBtZW1vcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5tZW1vLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtlZEZpbGU6IGZpbGVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBhcnNlIG1lbW8gZmlsZTogJHtmaWxlLm5hbWV9YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBcdTYzOTJcdTVFOEZcclxuICAgICAgICBtZW1vcy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzb3J0ID09PSAnY3JlYXRlVGltZScpIHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NjMwOVx1NTIxQlx1NUVGQVx1NjVGNlx1OTVGNFx1NjM5Mlx1NUU4Rlx1RkYwOFx1OTY0RFx1NUU4Rlx1RkYwQ1x1NjcwMFx1NjVCMFx1NzY4NFx1NTcyOFx1NTI0RFx1OTc2Mlx1RkYwOVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGIuY3JlYXRlZEF0IC0gYS5jcmVhdGVkQXQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBcdTYzMDlcdTY2RjRcdTY1QjBcdTY1RjZcdTk1RjRcdTYzOTJcdTVFOEZcdUZGMDhcdTk2NERcdTVFOEZcdUZGMENcdTY3MDBcdTY1QjBcdTc2ODRcdTU3MjhcdTUyNERcdTk3NjJcdUZGMDlcclxuICAgICAgICAgICAgICAgIHJldHVybiBiLnVwZGF0ZWRBdCAtIGEudXBkYXRlZEF0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBsaW1pdCA/IG1lbW9zLnNsaWNlKDAsIGxpbWl0KSA6IG1lbW9zO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHU2NDFDXHU3RDIyXHU3QjE0XHU4QkIwXHJcbiAgICAgKiBAcGFyYW0gcXVlcnkgXHU2NDFDXHU3RDIyXHU2NzYxXHU0RUY2XHJcbiAgICAgKiBAcmV0dXJucyBcdTdCMjZcdTU0MDhcdTY3NjFcdTRFRjZcdTc2ODRcdTdCMTRcdThCQjBcdTUyMTdcdTg4NjhcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2VhcmNoTWVtb3MocXVlcnk6IFNlYXJjaFF1ZXJ5KTogUHJvbWlzZTxNZW1vSXRlbVtdPiB7XHJcbiAgICAgICAgY29uc3QgYWxsTWVtb3MgPSBhd2FpdCB0aGlzLmdldEFsbE1lbW9zKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGFsbE1lbW9zLmZpbHRlcihtZW1vID0+IHtcclxuICAgICAgICAgICAgLy8gXHU2NTg3XHU2NzJDXHU1MzM5XHU5MTREXHJcbiAgICAgICAgICAgIGlmIChxdWVyeS50ZXh0ICYmICFtZW1vLmNvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50ZXh0LnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFx1NjgwN1x1N0I3RVx1NTMzOVx1OTE0RFxyXG4gICAgICAgICAgICBpZiAocXVlcnkudGFncyAmJiBxdWVyeS50YWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0FsbFRhZ3MgPSBxdWVyeS50YWdzLmV2ZXJ5KHRhZyA9PiBcclxuICAgICAgICAgICAgICAgICAgICBtZW1vLnRhZ3MuaW5jbHVkZXModGFnKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIGlmICghaGFzQWxsVGFncykgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBcdTY1RjZcdTk1RjRcdTgzMDNcdTU2RjRcdTUzMzlcdTkxNERcclxuICAgICAgICAgICAgaWYgKHF1ZXJ5LnRpbWVSYW5nZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5LnRpbWVSYW5nZS5mcm9tICYmIG1lbW8uY3JlYXRlZEF0IDwgcXVlcnkudGltZVJhbmdlLmZyb20pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAocXVlcnkudGltZVJhbmdlLnRvICYmIG1lbW8uY3JlYXRlZEF0ID4gcXVlcnkudGltZVJhbmdlLnRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSAiLCAiaW1wb3J0IHsgQXBwIH0gZnJvbSAnb2JzaWRpYW4nO1xyXG5pbXBvcnQgeyBNZW1vU2VydmljZSB9IGZyb20gJy4vbWVtb1NlcnZpY2UnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBUYWdXaXRoQ291bnQge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgY291bnQ6IG51bWJlcjtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFRhZ1NlcnZpY2Uge1xyXG4gICAgcHJpdmF0ZSBhcHA6IEFwcDtcclxuICAgIHByaXZhdGUgbWVtb1NlcnZpY2U6IE1lbW9TZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBtZW1vU2VydmljZTogTWVtb1NlcnZpY2UpIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLm1lbW9TZXJ2aWNlID0gbWVtb1NlcnZpY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTgzQjdcdTUzRDZcdTYyNDBcdTY3MDlcdTY4MDdcdTdCN0VcdTUzQ0FcdTUxNzZcdTRGN0ZcdTc1MjhcdTY1NzBcdTkxQ0ZcclxuICAgICAqIEByZXR1cm5zIFx1NjgwN1x1N0I3RVx1NTIxN1x1ODg2OFx1NTQ4Q1x1NEY3Rlx1NzUyOFx1NjU3MFx1OTFDRlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRBbGxUYWdzKCk6IFByb21pc2U8VGFnV2l0aENvdW50W10+IHtcclxuICAgICAgICBjb25zdCBtZW1vcyA9IGF3YWl0IHRoaXMubWVtb1NlcnZpY2UuZ2V0QWxsTWVtb3MoKTtcclxuICAgICAgICBjb25zdCB0YWdDb3VudDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1N0VERlx1OEJBMVx1NkJDRlx1NEUyQVx1NjgwN1x1N0I3RVx1NTFGQVx1NzNCMFx1NzY4NFx1NkIyMVx1NjU3MFxyXG4gICAgICAgIG1lbW9zLmZvckVhY2gobWVtbyA9PiB7XHJcbiAgICAgICAgICAgIG1lbW8udGFncy5mb3JFYWNoKHRhZyA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRhZ0NvdW50W3RhZ10pIHtcclxuICAgICAgICAgICAgICAgICAgICB0YWdDb3VudFt0YWddID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRhZ0NvdW50W3RhZ10rKztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU4RjZDXHU2MzYyXHU0RTNBXHU2NTcwXHU3RUM0XHU1RTc2XHU2MzkyXHU1RThGXHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRhZ0NvdW50KVxyXG4gICAgICAgICAgICAubWFwKHRhZyA9PiAoeyBuYW1lOiB0YWcsIGNvdW50OiB0YWdDb3VudFt0YWddIH0pKVxyXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4gYi5jb3VudCAtIGEuY291bnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogXHU4M0I3XHU1M0Q2XHU0RjdGXHU3NTI4XHU2NzAwXHU1OTFBXHU3Njg0XHU2ODA3XHU3QjdFXHJcbiAgICAgKiBAcGFyYW0gbGltaXQgXHU5NjUwXHU1MjM2XHU2NTcwXHU5MUNGXHJcbiAgICAgKiBAcmV0dXJucyBcdTcwRURcdTk1RThcdTY4MDdcdTdCN0VcdTUyMTdcdTg4NjhcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UG9wdWxhclRhZ3MobGltaXQ6IG51bWJlciA9IDEwKTogUHJvbWlzZTxUYWdXaXRoQ291bnRbXT4ge1xyXG4gICAgICAgIGNvbnN0IGFsbFRhZ3MgPSBhd2FpdCB0aGlzLmdldEFsbFRhZ3MoKTtcclxuICAgICAgICByZXR1cm4gYWxsVGFncy5zbGljZSgwLCBsaW1pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTkxQ0RcdTU0N0RcdTU0MERcdTY4MDdcdTdCN0VcclxuICAgICAqIEBwYXJhbSBvbGROYW1lIFx1NjVFN1x1NjgwN1x1N0I3RVx1NTQwRFxyXG4gICAgICogQHBhcmFtIG5ld05hbWUgXHU2NUIwXHU2ODA3XHU3QjdFXHU1NDBEXHJcbiAgICAgKiBAcmV0dXJucyBcdTY2RjRcdTY1QjBcdTc2ODRcdTdCMTRcdThCQjBcdTY1NzBcdTkxQ0ZcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVuYW1lVGFnKG9sZE5hbWU6IHN0cmluZywgbmV3TmFtZTogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgICAgICBpZiAob2xkTmFtZSA9PT0gbmV3TmFtZSkgcmV0dXJuIDA7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbWVtb3MgPSBhd2FpdCB0aGlzLm1lbW9TZXJ2aWNlLnNlYXJjaE1lbW9zKHsgdGFnczogW29sZE5hbWVdIH0pO1xyXG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgbWVtbyBvZiBtZW1vcykge1xyXG4gICAgICAgICAgICAvLyBcdTY2RkZcdTYzNjJcdTUxODVcdTVCQjlcdTRFMkRcdTc2ODRcdTY4MDdcdTdCN0VcclxuICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IG1lbW8uY29udGVudC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgIyR7b2xkTmFtZX1cXFxcYmAsICdnJyksIFxyXG4gICAgICAgICAgICAgICAgYCMke25ld05hbWV9YFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKG5ld0NvbnRlbnQgIT09IG1lbW8uY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5tZW1vU2VydmljZS51cGRhdGVNZW1vKG1lbW8uaWQsIG5ld0NvbnRlbnQpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlZENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHVwZGF0ZWRDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFx1NTIyMFx1OTY2NFx1NjgwN1x1N0I3RVxyXG4gICAgICogQHBhcmFtIHRhZ05hbWUgXHU2ODA3XHU3QjdFXHU1NDBEXHJcbiAgICAgKiBAcmV0dXJucyBcdTY2RjRcdTY1QjBcdTc2ODRcdTdCMTRcdThCQjBcdTY1NzBcdTkxQ0ZcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGVsZXRlVGFnKHRhZ05hbWU6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICAgICAgY29uc3QgbWVtb3MgPSBhd2FpdCB0aGlzLm1lbW9TZXJ2aWNlLnNlYXJjaE1lbW9zKHsgdGFnczogW3RhZ05hbWVdIH0pO1xyXG4gICAgICAgIGxldCB1cGRhdGVkQ291bnQgPSAwO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgbWVtbyBvZiBtZW1vcykge1xyXG4gICAgICAgICAgICAvLyBcdTY2RkZcdTYzNjJcdTUxODVcdTVCQjlcdTRFMkRcdTc2ODRcdTY4MDdcdTdCN0VcclxuICAgICAgICAgICAgY29uc3QgbmV3Q29udGVudCA9IG1lbW8uY29udGVudC5yZXBsYWNlKFxyXG4gICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChgIyR7dGFnTmFtZX1cXFxcYmAsICdnJyksIFxyXG4gICAgICAgICAgICAgICAgJydcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmIChuZXdDb250ZW50ICE9PSBtZW1vLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubWVtb1NlcnZpY2UudXBkYXRlTWVtbyhtZW1vLmlkLCBuZXdDb250ZW50KTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB1cGRhdGVkQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTU0MDhcdTVFNzZcdTU5MUFcdTRFMkFcdTY4MDdcdTdCN0VcdTRFM0FcdTRFMDBcdTRFMkFcclxuICAgICAqIEBwYXJhbSB0YWdzIFx1ODk4MVx1NTQwOFx1NUU3Nlx1NzY4NFx1NjgwN1x1N0I3RVx1NTIxN1x1ODg2OFxyXG4gICAgICogQHBhcmFtIHRhcmdldFRhZyBcdTc2RUVcdTY4MDdcdTY4MDdcdTdCN0VcclxuICAgICAqIEByZXR1cm5zIFx1NjZGNFx1NjVCMFx1NzY4NFx1N0IxNFx1OEJCMFx1NjU3MFx1OTFDRlxyXG4gICAgICovXHJcbiAgICBhc3luYyBtZXJnZVRhZ3ModGFnczogc3RyaW5nW10sIHRhcmdldFRhZzogc3RyaW5nKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgICAgICBsZXQgdXBkYXRlZENvdW50ID0gMDtcclxuICAgICAgICBcclxuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiB0YWdzKSB7XHJcbiAgICAgICAgICAgIGlmICh0YWcgIT09IHRhcmdldFRhZykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlZENvdW50ICs9IGF3YWl0IHRoaXMucmVuYW1lVGFnKHRhZywgdGFyZ2V0VGFnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdXBkYXRlZENvdW50O1xyXG4gICAgfVxyXG59ICIsICJpbXBvcnQgeyBBcHAsIEJ1dHRvbkNvbXBvbmVudCwgVGV4dEFyZWFDb21wb25lbnQsIHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IE1lbW9JdGVtIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBNZW1vU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9tZW1vU2VydmljZVwiO1xuaW1wb3J0IHsgZXh0cmFjdFRhZ3NGcm9tQ29udGVudCB9IGZyb20gXCIuLi91dGlscy9maWxlXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb0VkaXRvck9wdGlvbnMge1xuICAgIGFwcDogQXBwO1xuICAgIG1lbW9TZXJ2aWNlOiBNZW1vU2VydmljZTtcbiAgICBwbGFjZWhvbGRlcj86IHN0cmluZztcbiAgICBvblN1Ym1pdD86IChtZW1vOiBNZW1vSXRlbSkgPT4gdm9pZDtcbiAgICBvbkNhbmNlbD86ICgpID0+IHZvaWQ7XG4gICAgaW5pdGlhbENvbnRlbnQ/OiBzdHJpbmc7XG4gICAgZWRpdGluZ01lbW8/OiBNZW1vSXRlbTtcbn1cblxuZXhwb3J0IGNsYXNzIE1lbW9FZGl0b3Ige1xuICAgIHByaXZhdGUgYXBwOiBBcHA7XG4gICAgcHJpdmF0ZSBtZW1vU2VydmljZTogTWVtb1NlcnZpY2U7XG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSB0ZXh0QXJlYTogVGV4dEFyZWFDb21wb25lbnQ7XG4gICAgcHJpdmF0ZSBvblN1Ym1pdENhbGxiYWNrOiAobWVtbzogTWVtb0l0ZW0pID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBvbkNhbmNlbENhbGxiYWNrOiAoKSA9PiB2b2lkO1xuICAgIHByaXZhdGUgaW5pdGlhbENvbnRlbnQ6IHN0cmluZztcbiAgICBwcml2YXRlIGVkaXRpbmdNZW1vOiBNZW1vSXRlbSB8IHVuZGVmaW5lZDtcbiAgICBwcml2YXRlIHRhZ1ByZXZpZXdFbDogSFRNTEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBjYW5jZWxCdXR0b246IEJ1dHRvbkNvbXBvbmVudDtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBNZW1vRWRpdG9yT3B0aW9ucykge1xuICAgICAgICB0aGlzLmFwcCA9IG9wdGlvbnMuYXBwO1xuICAgICAgICB0aGlzLm1lbW9TZXJ2aWNlID0gb3B0aW9ucy5tZW1vU2VydmljZTtcbiAgICAgICAgdGhpcy5vblN1Ym1pdENhbGxiYWNrID0gb3B0aW9ucy5vblN1Ym1pdCB8fCAoKCkgPT4ge30pO1xuICAgICAgICB0aGlzLm9uQ2FuY2VsQ2FsbGJhY2sgPSBvcHRpb25zLm9uQ2FuY2VsIHx8ICgoKSA9PiB7fSk7XG4gICAgICAgIHRoaXMuaW5pdGlhbENvbnRlbnQgPSBvcHRpb25zLmluaXRpYWxDb250ZW50IHx8IFwiXCI7XG4gICAgICAgIHRoaXMuZWRpdGluZ01lbW8gPSBvcHRpb25zLmVkaXRpbmdNZW1vO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb250YWluZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNsYXNzTmFtZSA9ICdtaW5kZXItZWRpdG9yJztcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogXHU2RTMyXHU2N0QzXHU3RjE2XHU4RjkxXHU1NjY4XG4gICAgICogQHBhcmFtIHBhcmVudEVsIFx1NzIzNlx1NTE0M1x1N0QyMFxuICAgICAqIEByZXR1cm5zIFx1N0YxNlx1OEY5MVx1NTY2OFx1NTE0M1x1N0QyMFxuICAgICAqL1xuICAgIHJlbmRlcihwYXJlbnRFbDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXJFbCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTdGMTZcdThGOTFcdTUzM0FcdTU3REZcbiAgICAgICAgY29uc3QgZWRpdG9yQ29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdtaW5kZXItZWRpdG9yLWNvbnRhaW5lcicgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY1ODdcdTY3MkNcdThGOTNcdTUxNjVcdTUzM0FcbiAgICAgICAgdGhpcy50ZXh0QXJlYSA9IG5ldyBUZXh0QXJlYUNvbXBvbmVudChlZGl0b3JDb250YWluZXIpO1xuICAgICAgICB0aGlzLnRleHRBcmVhXG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1x1OEY5M1x1NTE2NVx1NEY2MFx1NzY4NFx1NjBGM1x1NkNENS4uLicpXG4gICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5pbml0aWFsQ29udGVudClcbiAgICAgICAgICAgIC5vbkNoYW5nZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aWV3VGFncygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5pbnB1dEVsLmNsYXNzTmFtZSA9ICdtaW5kZXItZWRpdG9yLXRleHRhcmVhJztcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5pbnB1dEVsLmZvY3VzKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdThCQkVcdTdGNkVcdTgxRUFcdTUyQThcdThDMDNcdTY1NzRcdTlBRDhcdTVFQTZcdTc2ODRcdTRFOEJcdTRFRjZcbiAgICAgICAgdGhpcy5zZXR1cEF1dG9SZXNpemUoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NUU5NVx1OTBFOFx1NURFNVx1NTE3N1x1NjgwRlx1NTMzQVx1NTdERlx1RkYwOFx1NTMwNVx1NTQyQlx1NjgwN1x1N0I3RVx1OTg4NFx1ODlDOFx1NTQ4Q1x1NjMwOVx1OTRBRVx1RkYwOVxuICAgICAgICBjb25zdCBib3R0b21CYXJFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAnbWluZGVyLWVkaXRvci1ib3R0b20tYmFyJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjgwN1x1N0I3RVx1OTg4NFx1ODlDOFx1NTMzQVx1NTdERlxuICAgICAgICB0aGlzLnRhZ1ByZXZpZXdFbCA9IGJvdHRvbUJhckVsLmNyZWF0ZURpdih7IGNsczogJ21pbmRlci10YWctcHJldmlldycgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcdTUzM0FcdTU3REZcbiAgICAgICAgY29uc3QgYnV0dG9uQ29udGFpbmVyID0gYm90dG9tQmFyRWwuY3JlYXRlRGl2KHsgY2xzOiAnbWluZGVyLWVkaXRvci1idXR0b25zJyB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NTNENlx1NkQ4OFx1NjMwOVx1OTRBRVxuICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9uQ29udGFpbmVyKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdXR0b25cbiAgICAgICAgICAgIC5zZXRCdXR0b25UZXh0KCdcdTUzRDZcdTZEODgnKVxuICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXIoKTsgLy8gXHU3MEI5XHU1MUZCXHU1M0Q2XHU2RDg4XHU2NUY2XHU2RTA1XHU3QTdBXHU1MTg1XHU1QkI5XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNhbmNlbENhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1OUVEOFx1OEJBNFx1NjBDNVx1NTFCNVx1NEUwQlx1RkYwQ1x1NTNFQVx1NjcwOVx1N0YxNlx1OEY5MVx1NjVGNlx1NjI0RFx1NjYzRVx1NzkzQVx1NTNENlx1NkQ4OFx1NjMwOVx1OTRBRVxuICAgICAgICBjb25zdCBjYW5jZWxCdXR0b25FbCA9IHRoaXMuY2FuY2VsQnV0dG9uLmJ1dHRvbkVsO1xuICAgICAgICBjYW5jZWxCdXR0b25FbC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5lZGl0aW5nTWVtbyA/ICdmbGV4JyA6ICdub25lJztcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NjNEMFx1NEVBNFx1NjMwOVx1OTRBRVxuICAgICAgICBjb25zdCBzdWJtaXRCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGJ1dHRvbkNvbnRhaW5lcik7XG4gICAgICAgIHN1Ym1pdEJ1dHRvblxuICAgICAgICAgICAgLnNldEljb24oJ2x1Y2lkZS1zZW5kLWhvcml6b250YWwnKVxuICAgICAgICAgICAgLnNldEN0YSgpXG4gICAgICAgICAgICAuc2V0VG9vbHRpcCgnXHU1M0QxXHU5MDAxJylcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHRoaXMuc3VibWl0TWVtbygpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjgwN1x1N0I3RVx1OTg4NFx1ODlDOFxuICAgICAgICB0aGlzLnByZXZpZXdUYWdzKCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTUyMURcdTU5Q0JcdTUzMTZcdTY1RjZcdThDMDNcdTY1NzRcdTlBRDhcdTVFQTZcbiAgICAgICAgdGhpcy5hZGp1c3RUZXh0YXJlYUhlaWdodCgpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyRWw7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFx1OEJCRVx1N0Y2RVx1ODFFQVx1NTJBOFx1OEMwM1x1NjU3NFx1OUFEOFx1NUVBNlx1NzY4NFx1NEU4Qlx1NEVGNlx1NzZEMVx1NTQyQ1xuICAgICAqL1xuICAgIHByaXZhdGUgc2V0dXBBdXRvUmVzaXplKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMudGV4dEFyZWEgfHwgIXRoaXMudGV4dEFyZWEuaW5wdXRFbCkgcmV0dXJuO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU4RjkzXHU1MTY1XHU0RThCXHU0RUY2XHU3NkQxXHU1NDJDXG4gICAgICAgIHRoaXMudGV4dEFyZWEuaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTdBOTdcdTUzRTNcdTU5MjdcdTVDMEZcdTY1MzlcdTUzRDhcdTY1RjZcdTRFNUZcdThDMDNcdTY1NzRcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFx1OEMwM1x1NjU3NFx1NjU4N1x1NjcyQ1x1NTMzQVx1NTdERlx1OUFEOFx1NUVBNlxuICAgICAqL1xuICAgIHByaXZhdGUgYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy50ZXh0QXJlYSB8fCAhdGhpcy50ZXh0QXJlYS5pbnB1dEVsKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0YXJlYUVsID0gdGhpcy50ZXh0QXJlYS5pbnB1dEVsO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU5MUNEXHU3RjZFXHU5QUQ4XHU1RUE2XHU0RUU1XHU4M0I3XHU1M0Q2XHU2QjYzXHU3ODZFXHU3Njg0XHU2RURBXHU1MkE4XHU5QUQ4XHU1RUE2XG4gICAgICAgIHRleHRhcmVhRWwuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICAgICAgICBcbiAgICAgICAgLy8gXHU4QkJFXHU3RjZFXHU2NUIwXHU5QUQ4XHU1RUE2XG4gICAgICAgIHRleHRhcmVhRWwuc3R5bGUuaGVpZ2h0ID0gdGV4dGFyZWFFbC5zY3JvbGxIZWlnaHQgKyAncHgnO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBcdTk4ODRcdTg5QzhcdTY4MDdcdTdCN0VcbiAgICAgKi9cbiAgICBwcml2YXRlIHByZXZpZXdUYWdzKCk6IHZvaWQge1xuICAgICAgICBpZiAoIXRoaXMudGFnUHJldmlld0VsKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICB0aGlzLnRhZ1ByZXZpZXdFbC5lbXB0eSgpO1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy50ZXh0QXJlYS5nZXRWYWx1ZSgpO1xuICAgICAgICBjb25zdCB0YWdzID0gZXh0cmFjdFRhZ3NGcm9tQ29udGVudChjb250ZW50KTtcbiAgICAgICAgXG4gICAgICAgIGlmICh0YWdzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMudGFnUHJldmlld0VsLmNyZWF0ZVNwYW4oeyB0ZXh0OiAnXHU2ODA3XHU3QjdFOiAnIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0YWdzLmZvckVhY2godGFnID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWdFbCA9IHRoaXMudGFnUHJldmlld0VsLmNyZWF0ZVNwYW4oeyBjbHM6ICdtaW5kZXItdGFnLXByZXZpZXctaXRlbScgfSk7XG4gICAgICAgICAgICAgICAgdGFnRWwuc2V0VGV4dCh0YWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogXHU2M0QwXHU0RUE0XHU3QjE0XHU4QkIwXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBzdWJtaXRNZW1vKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy50ZXh0QXJlYS5nZXRWYWx1ZSgpO1xuICAgICAgICBpZiAoIWNvbnRlbnQudHJpbSgpKSByZXR1cm47XG4gICAgICAgIFxuICAgICAgICBsZXQgbWVtbzogTWVtb0l0ZW07XG4gICAgICAgIFxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWRpdGluZ01lbW8pIHtcbiAgICAgICAgICAgICAgICAvLyBcdTY2RjRcdTY1QjBcdTczQjBcdTY3MDlcdTdCMTRcdThCQjBcbiAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVkID0gYXdhaXQgdGhpcy5tZW1vU2VydmljZS51cGRhdGVNZW1vKHRoaXMuZWRpdGluZ01lbW8uaWQsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lbW8gPSB1cGRhdGVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXHU2NkY0XHU2NUIwXHU3QjE0XHU4QkIwXHU1OTMxXHU4RDI1Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBcdTUyMUJcdTVFRkFcdTY1QjBcdTdCMTRcdThCQjBcbiAgICAgICAgICAgICAgICBtZW1vID0gYXdhaXQgdGhpcy5tZW1vU2VydmljZS5jcmVhdGVNZW1vKGNvbnRlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBcdTVCOENcdTUxNjhcdTZFMDVcdTdBN0FcdTdGMTZcdThGOTFcdTU2NjhcdUZGMENcdTUzMDVcdTYyRUNcdTY4MDdcdTdCN0VcdTk4ODRcdTg5QzhcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gXHU4OUU2XHU1M0QxXHU1NkRFXHU4QzAzXG4gICAgICAgICAgICB0aGlzLm9uU3VibWl0Q2FsbGJhY2sobWVtbyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdcdTRGRERcdTVCNThcdTdCMTRcdThCQjBcdTY1RjZcdTUxRkFcdTk1MTk6JywgZXJyb3IpO1xuICAgICAgICAgICAgLy8gXHU1M0VGXHU0RUU1XHU1NzI4XHU4RkQ5XHU5MUNDXHU2REZCXHU1MkEwXHU5NTE5XHU4QkVGXHU5MDFBXHU3N0U1XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogXHU2RTA1XHU3QTdBXHU3RjE2XHU4RjkxXHU1NjY4XHU1MTg1XHU1QkI5XG4gICAgICovXG4gICAgY2xlYXIoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnRleHRBcmVhKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRBcmVhLnNldFZhbHVlKCcnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gXHU3ODZFXHU0RkREXHU2ODA3XHU3QjdFXHU5ODg0XHU4OUM4XHU1MzNBXHU1N0RGXHU0RTVGXHU4OEFCXHU2RTA1XHU3QTdBXG4gICAgICAgICAgICBpZiAodGhpcy50YWdQcmV2aWV3RWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhZ1ByZXZpZXdFbC5lbXB0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBcdTkxQ0RcdTdGNkVcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcbiAgICAgICAgICAgIHRoaXMuZWRpdGluZ01lbW8gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFx1OTY5MFx1ODVDRlx1NTNENlx1NkQ4OFx1NjMwOVx1OTRBRVxuICAgICAgICAgICAgaWYgKHRoaXMuY2FuY2VsQnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24uYnV0dG9uRWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gXHU5MUNEXHU3RjZFXHU2NTg3XHU2NzJDXHU1MzNBXHU1N0RGXHU5QUQ4XHU1RUE2XG4gICAgICAgICAgICB0aGlzLmFkanVzdFRleHRhcmVhSGVpZ2h0KCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogXHU4M0I3XHU1M0Q2XHU1MTg1XHU1QkI5XG4gICAgICovXG4gICAgZ2V0Q29udGVudCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy50ZXh0QXJlYSA/IHRoaXMudGV4dEFyZWEuZ2V0VmFsdWUoKSA6ICcnO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBcdThCQkVcdTdGNkVcdTUxODVcdTVCQjlcbiAgICAgKiBAcGFyYW0gY29udGVudCBcdTUxODVcdTVCQjlcbiAgICAgKi9cbiAgICBzZXRDb250ZW50KGNvbnRlbnQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy50ZXh0QXJlYSkge1xuICAgICAgICAgICAgdGhpcy50ZXh0QXJlYS5zZXRWYWx1ZShjb250ZW50KTtcbiAgICAgICAgICAgIHRoaXMucHJldmlld1RhZ3MoKTtcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBcdThGREJcdTUxNjVcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcbiAgICAgKiBAcGFyYW0gbWVtbyBcdTg5ODFcdTdGMTZcdThGOTFcdTc2ODRcdTdCMTRcdThCQjBcbiAgICAgKi9cbiAgICBzZXRFZGl0TW9kZShtZW1vOiBNZW1vSXRlbSk6IHZvaWQge1xuICAgICAgICB0aGlzLmVkaXRpbmdNZW1vID0gbWVtbztcbiAgICAgICAgdGhpcy5zZXRDb250ZW50KG1lbW8uY29udGVudCk7XG4gICAgICAgIFxuICAgICAgICAvLyBcdTY2M0VcdTc5M0FcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsQnV0dG9uKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbi5idXR0b25FbC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB9XG4gICAgfVxufSAiLCAiaW1wb3J0IHtcblx0QXBwLFxuXHRDb21wb25lbnQsXG5cdE1hcmtkb3duUmVuZGVyZXIsXG5cdE1lbnUsXG5cdE1lbnVJdGVtLFxuXHRNb2RhbCxcblx0Tm90aWNlLFxuXHRzZXRJY29uLFxufSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IE1lbW9JdGVtIGFzIE1lbW9JdGVtSW50ZXJmYWNlIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBNZW1vU2VydmljZSB9IGZyb20gXCIuLi9zZXJ2aWNlcy9tZW1vU2VydmljZVwiO1xuaW1wb3J0IHsgZm9ybWF0RGF0ZSwgZ2V0UmVsYXRpdmVUaW1lU3RyaW5nIH0gZnJvbSBcIi4uL3V0aWxzL2RhdGVcIjtcbmltcG9ydCB7IElubGluZU1lbW9FZGl0b3IgfSBmcm9tIFwiLi9JbmxpbmVNZW1vRWRpdG9yXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWVtb0l0ZW1Db21wb25lbnRPcHRpb25zIHtcblx0YXBwOiBBcHA7XG5cdG1lbW86IE1lbW9JdGVtSW50ZXJmYWNlO1xuXHRtZW1vU2VydmljZTogTWVtb1NlcnZpY2U7XG5cdGRhdGVGb3JtYXQ6IHN0cmluZztcblx0c2hvd1RpbWVzdGFtcDogYm9vbGVhbjtcblx0b25FZGl0PzogKG1lbW86IE1lbW9JdGVtSW50ZXJmYWNlKSA9PiB2b2lkO1xuXHRvbkRlbGV0ZT86IChtZW1vOiBNZW1vSXRlbUludGVyZmFjZSkgPT4gdm9pZDtcblx0b25DbGljaz86IChtZW1vOiBNZW1vSXRlbUludGVyZmFjZSkgPT4gdm9pZDtcblx0b25VcGRhdGU/OiAobWVtbzogTWVtb0l0ZW1JbnRlcmZhY2UpID0+IHZvaWQ7IC8vIFx1NjVCMFx1NTg5RVx1RkYxQVx1NUY1M1x1N0IxNFx1OEJCMFx1NjZGNFx1NjVCMFx1NjVGNlx1NzY4NFx1NTZERVx1OEMwM1xuXHRjb21wb25lbnQ/OiBDb21wb25lbnQ7IC8vIFx1NzUyOFx1NEU4RU1hcmtkb3duXHU2RTMyXHU2N0QzXHU3Njg0XHU3RUM0XHU0RUY2XHU1RjE1XHU3NTI4XG59XG5cbmV4cG9ydCBjbGFzcyBNZW1vSXRlbUNvbXBvbmVudCB7XG5cdHByaXZhdGUgYXBwOiBBcHA7XG5cdHByaXZhdGUgbWVtbzogTWVtb0l0ZW1JbnRlcmZhY2U7XG5cdHByaXZhdGUgbWVtb1NlcnZpY2U6IE1lbW9TZXJ2aWNlO1xuXHRwcml2YXRlIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudDtcblx0cHJpdmF0ZSBjb250ZW50RWw6IEhUTUxFbGVtZW50O1xuXHRwcml2YXRlIGRhdGVGb3JtYXQ6IHN0cmluZztcblx0cHJpdmF0ZSBzaG93VGltZXN0YW1wOiBib29sZWFuO1xuXHRwcml2YXRlIG9uRWRpdENhbGxiYWNrOiAobWVtbzogTWVtb0l0ZW1JbnRlcmZhY2UpID0+IHZvaWQ7XG5cdHByaXZhdGUgb25EZWxldGVDYWxsYmFjazogKG1lbW86IE1lbW9JdGVtSW50ZXJmYWNlKSA9PiB2b2lkO1xuXHRwcml2YXRlIG9uQ2xpY2tDYWxsYmFjazogKG1lbW86IE1lbW9JdGVtSW50ZXJmYWNlKSA9PiB2b2lkO1xuXHRwcml2YXRlIG9uVXBkYXRlQ2FsbGJhY2s6IChtZW1vOiBNZW1vSXRlbUludGVyZmFjZSkgPT4gdm9pZDsgLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU1RjUzXHU3QjE0XHU4QkIwXHU2NkY0XHU2NUIwXHU2NUY2XHU3Njg0XHU1NkRFXHU4QzAzXG5cdHByaXZhdGUgY29tcG9uZW50OiBDb21wb25lbnQgfCBudWxsO1xuXHRwcml2YXRlIGlzRWRpdGluZzogYm9vbGVhbjtcblx0cHJpdmF0ZSBpbmxpbmVFZGl0b3I6IElubGluZU1lbW9FZGl0b3IgfCBudWxsID0gbnVsbDtcblxuXHRjb25zdHJ1Y3RvcihvcHRpb25zOiBNZW1vSXRlbUNvbXBvbmVudE9wdGlvbnMpIHtcblx0XHR0aGlzLmFwcCA9IG9wdGlvbnMuYXBwO1xuXHRcdHRoaXMubWVtbyA9IG9wdGlvbnMubWVtbztcblx0XHR0aGlzLm1lbW9TZXJ2aWNlID0gb3B0aW9ucy5tZW1vU2VydmljZTtcblx0XHR0aGlzLmRhdGVGb3JtYXQgPSBvcHRpb25zLmRhdGVGb3JtYXQ7XG5cdFx0dGhpcy5zaG93VGltZXN0YW1wID0gb3B0aW9ucy5zaG93VGltZXN0YW1wO1xuXHRcdHRoaXMub25FZGl0Q2FsbGJhY2sgPSBvcHRpb25zLm9uRWRpdCB8fCAoKCkgPT4ge30pO1xuXHRcdHRoaXMub25EZWxldGVDYWxsYmFjayA9IG9wdGlvbnMub25EZWxldGUgfHwgKCgpID0+IHt9KTtcblx0XHR0aGlzLm9uQ2xpY2tDYWxsYmFjayA9IG9wdGlvbnMub25DbGljayB8fCAoKCkgPT4ge30pO1xuXHRcdHRoaXMub25VcGRhdGVDYWxsYmFjayA9IG9wdGlvbnMub25VcGRhdGUgfHwgKCgpID0+IHt9KTsgLy8gXHU2NUIwXHU1ODlFXHVGRjFBXHU1RjUzXHU3QjE0XHU4QkIwXHU2NkY0XHU2NUIwXHU2NUY2XHU3Njg0XHU1NkRFXHU4QzAzXG5cdFx0dGhpcy5jb21wb25lbnQgPSBvcHRpb25zLmNvbXBvbmVudCB8fCBudWxsO1xuXHRcdHRoaXMuaXNFZGl0aW5nID0gZmFsc2U7XG5cblx0XHR0aGlzLmNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHR0aGlzLmNvbnRhaW5lckVsLmNsYXNzTmFtZSA9IFwibWluZGVyLW1lbW8taXRlbVwiO1xuXHRcdHRoaXMuY29udGFpbmVyRWwuZGF0YXNldC5pZCA9IHRoaXMubWVtby5pZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTZFMzJcdTY3RDNcdTdCMTRcdThCQjBcdTk4Nzlcblx0ICogQHBhcmFtIHBhcmVudEVsIFx1NzIzNlx1NTE0M1x1N0QyMFxuXHQgKiBAcmV0dXJucyBcdTdCMTRcdThCQjBcdTk4NzlcdTUxNDNcdTdEMjBcblx0ICovXG5cdHJlbmRlcihwYXJlbnRFbDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XG5cdFx0dGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xuXHRcdHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyRWwpO1xuXG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU3RjE2XHU4RjkxXHU0RTJEXHU3Njg0XHU2ODM3XHU1RjBGXG5cdFx0aWYgKHRoaXMuaXNFZGl0aW5nKSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5hZGQoXCJtaW5kZXItbWVtby1lZGl0aW5nXCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5yZW1vdmUoXCJtaW5kZXItbWVtby1lZGl0aW5nXCIpO1xuXHRcdH1cblxuXHRcdC8vIFx1N0IxNFx1OEJCMFx1NTkzNFx1OTBFOFx1RkYwOFx1NjVGNlx1OTVGNFx1NTQ4Q1x1NjRDRFx1NEY1Q1x1RkYwOVxuXHRcdGNvbnN0IGhlYWRlckVsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe1xuXHRcdFx0Y2xzOiBcIm1pbmRlci1tZW1vLWhlYWRlclwiLFxuXHRcdH0pO1xuXG5cdFx0Ly8gXHU2NUY2XHU5NUY0XHU2NjNFXHU3OTNBXG5cdFx0aWYgKHRoaXMuc2hvd1RpbWVzdGFtcCkge1xuXHRcdFx0Y29uc3QgdGltZUVsID0gaGVhZGVyRWwuY3JlYXRlRGl2KHsgY2xzOiBcIm1pbmRlci1tZW1vLXRpbWVcIiB9KTtcblx0XHRcdHRpbWVFbC5zZXRUZXh0KGdldFJlbGF0aXZlVGltZVN0cmluZyh0aGlzLm1lbW8uY3JlYXRlZEF0KSk7XG5cdFx0XHR0aW1lRWwuc2V0QXR0cmlidXRlKFxuXHRcdFx0XHRcInRpdGxlXCIsXG5cdFx0XHRcdGZvcm1hdERhdGUodGhpcy5tZW1vLmNyZWF0ZWRBdCwgdGhpcy5kYXRlRm9ybWF0KVxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBcdTY0Q0RcdTRGNUNcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBhY3Rpb25zRWwgPSBoZWFkZXJFbC5jcmVhdGVEaXYoeyBjbHM6IFwibWluZGVyLW1lbW8tYWN0aW9uc1wiIH0pO1xuXG5cdFx0Ly8gXHU3RjE2XHU4RjkxXHU2ODA3XHU4QkIwXG5cdFx0aWYgKHRoaXMuaXNFZGl0aW5nKSB7XG5cdFx0XHRjb25zdCBlZGl0aW5nQmFkZ2VFbCA9IGFjdGlvbnNFbC5jcmVhdGVEaXYoe1xuXHRcdFx0XHRjbHM6IFwibWluZGVyLW1lbW8tZWRpdGluZy1iYWRnZVwiLFxuXHRcdFx0fSk7XG5cdFx0XHRlZGl0aW5nQmFkZ2VFbC5zZXRUZXh0KFwiXHU3RjE2XHU4RjkxXHU0RTJEXCIpO1xuXHRcdH1cblxuXHRcdC8vIFx1NjZGNFx1NTkxQVx1NjMwOVx1OTRBRVxuXHRcdGNvbnN0IG1vcmVCdXR0b25FbCA9IGFjdGlvbnNFbC5jcmVhdGVEaXYoe1xuXHRcdFx0Y2xzOiBcIm1pbmRlci1tZW1vLWFjdGlvbi1idXR0b25cIixcblx0XHR9KTtcblx0XHRzZXRJY29uKG1vcmVCdXR0b25FbCwgXCJtb3JlLWhvcml6b250YWxcIik7XG5cdFx0bW9yZUJ1dHRvbkVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcblx0XHRcdHRoaXMuc2hvd0FjdGlvbnNNZW51KG1vcmVCdXR0b25FbCwgZXZlbnQpO1xuXHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0fSk7XG5cblx0XHQvLyBcdTUxODVcdTVCQjlcdTUzM0FcdTU3REZcblx0XHR0aGlzLmNvbnRlbnRFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHtcblx0XHRcdGNsczogXCJtaW5kZXItbWVtby1jb250ZW50XCIsXG5cdFx0fSk7XG5cdFx0XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU1OTA0XHU0RThFXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXHVGRjBDXHU2RTMyXHU2N0QzXHU1MTg1XHU4MDU0XHU3RjE2XHU4RjkxXHU1NjY4XG5cdFx0aWYgKHRoaXMuaXNFZGl0aW5nKSB7XG5cdFx0XHR0aGlzLnJlbmRlcklubGluZUVkaXRvcigpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLnJlbmRlckNvbnRlbnQodGhpcy5jb250ZW50RWwpO1xuXHRcdH1cblxuXHRcdC8vIFx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlxuXHRcdGlmICh0aGlzLm1lbW8udGFncy5sZW5ndGggPiAwKSB7XG5cdFx0XHRjb25zdCB0YWdzRWwgPSB0aGlzLmNvbnRhaW5lckVsLmNyZWF0ZURpdih7XG5cdFx0XHRcdGNsczogXCJtaW5kZXItbWVtby10YWdzXCIsXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5tZW1vLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHRhZ0VsID0gdGFnc0VsLmNyZWF0ZVNwYW4oeyBjbHM6IFwibWluZGVyLW1lbW8tdGFnXCIgfSk7XG5cdFx0XHRcdHRhZ0VsLnNldFRleHQoXCIjXCIgKyB0YWcpO1xuXHRcdFx0XHR0YWdFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0Ly8gXHU1M0VGXHU0RUU1XHU1NzI4XHU4RkQ5XHU5MUNDXHU2REZCXHU1MkEwXHU2ODA3XHU3QjdFXHU3MEI5XHU1MUZCXHU1NkRFXHU4QzAzXG5cdFx0XHRcdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gXHU3MEI5XHU1MUZCXHU2NTc0XHU0RTJBXHU3QjE0XHU4QkIwXHU5ODc5IChcdTRFQzVcdTU3MjhcdTk3NUVcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcdTRFMEIpXG5cdFx0aWYgKCF0aGlzLmlzRWRpdGluZykge1xuXHRcdHRoaXMuY29udGFpbmVyRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcblx0XHRcdHRoaXMub25DbGlja0NhbGxiYWNrKHRoaXMubWVtbyk7XG5cdFx0fSk7XG5cblx0XHQvLyBcdTZERkJcdTUyQTBcdTUzQ0NcdTUxRkJcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcdTU2NjhcdUZGMENcdTg5RTZcdTUzRDFcdTdGMTZcdThGOTFcdTUyOUZcdTgwRkRcblx0XHR0aGlzLmNvbnRhaW5lckVsLmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCAoZXZlbnQpID0+IHtcblx0XHRcdFx0dGhpcy5zdGFydElubGluZUVkaXRpbmcoKTtcblx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lckVsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFx1NkUzMlx1NjdEM1x1N0IxNFx1OEJCMFx1NTE4NVx1NUJCOVxuXHQgKiBAcGFyYW0gY29udGFpbmVyRWwgXHU1QkI5XHU1NjY4XHU1MTQzXHU3RDIwXG5cdCAqL1xuXHRwcml2YXRlIHJlbmRlckNvbnRlbnQoY29udGFpbmVyRWw6IEhUTUxFbGVtZW50KTogdm9pZCB7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdHRyeSB7XG5cdFx0XHQvLyBcdTRGN0ZcdTc1MjhPYnNpZGlhblx1NzY4NE1hcmtkb3duXHU2RTMyXHU2N0QzXHU1NjY4XHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHVGRjBDXHU0RjIwXHU5MDEyXHU3RUM0XHU0RUY2XHU1M0MyXHU2NTcwXHU0RUU1XHU5MDdGXHU1MTREXHU1MTg1XHU1QjU4XHU2Q0M0XHU2RjBGXG5cdFx0XHRpZiAodGhpcy5jb21wb25lbnQpIHtcblx0XHRcdFx0TWFya2Rvd25SZW5kZXJlci5yZW5kZXJNYXJrZG93bihcblx0XHRcdFx0XHR0aGlzLm1lbW8uY29udGVudCxcblx0XHRcdFx0XHRjb250YWluZXJFbCxcblx0XHRcdFx0XHRcIlwiLFxuXHRcdFx0XHRcdHRoaXMuY29tcG9uZW50XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTY3MDlcdTY1NDhcdTc2ODRcdTdFQzRcdTRFRjZcdTVGMTVcdTc1MjhcdUZGMENcdTRGN0ZcdTc1MjhcdTdCODBcdTUzNTVcdTc2ODRcdTY1ODdcdTY3MkNcdTZFMzJcdTY3RDNcblx0XHRcdFx0Y29uc3QgY29udGVudFAgPSBjb250YWluZXJFbC5jcmVhdGVFbChcInBcIik7XG5cdFx0XHRcdGNvbnRlbnRQLnRleHRDb250ZW50ID0gdGhpcy5tZW1vLmNvbnRlbnQ7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJcdTZFMzJcdTY3RDNNYXJrZG93blx1NTE4NVx1NUJCOVx1NTkzMVx1OEQyNTpcIiwgZXJyb3IpO1xuXHRcdFx0Y29uc3QgZXJyb3JQID0gY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIpO1xuXHRcdFx0ZXJyb3JQLnRleHRDb250ZW50ID0gdGhpcy5tZW1vLmNvbnRlbnQ7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogXHU2RTMyXHU2N0QzXHU1MTg1XHU4MDU0XHU3RjE2XHU4RjkxXHU1NjY4XG5cdCAqL1xuXHRwcml2YXRlIHJlbmRlcklubGluZUVkaXRvcigpOiB2b2lkIHtcblx0XHRpZiAoIXRoaXMuY29udGVudEVsKSByZXR1cm47XG5cdFx0XG5cdFx0dGhpcy5jb250ZW50RWwuZW1wdHkoKTtcblx0XHRcblx0XHR0aGlzLmlubGluZUVkaXRvciA9IG5ldyBJbmxpbmVNZW1vRWRpdG9yKHtcblx0XHRcdGFwcDogdGhpcy5hcHAsXG5cdFx0XHRtZW1vU2VydmljZTogdGhpcy5tZW1vU2VydmljZSxcblx0XHRcdG1lbW86IHRoaXMubWVtbyxcblx0XHRcdG9uU3VibWl0OiAodXBkYXRlZE1lbW8pID0+IHtcblx0XHRcdFx0Ly8gXHU1MTQ4XHU2NkY0XHU2NUIwXHU2NTcwXHU2MzZFXG5cdFx0XHRcdHRoaXMubWVtbyA9IHVwZGF0ZWRNZW1vO1xuXHRcdFx0XHQvLyBcdTcxMzZcdTU0MEVcdThCQkVcdTdGNkVcdTcyQjZcdTYwMDFcblx0XHRcdFx0dGhpcy5zZXRFZGl0aW5nU3RhdGUoZmFsc2UpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU1M0VBXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHU1NDhDXHU2ODA3XHU3QjdFXHVGRjBDXHU0RTBEXHU3OUZCXHU1MkE4XHU2NTc0XHU0RTJBXHU3QjE0XHU4QkIwXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0XHRcdHRoaXMucmVuZGVyQ29udGVudCh0aGlzLmNvbnRlbnRFbCk7XG5cdFx0XHRcdHRoaXMudXBkYXRlVGFnc1NlY3Rpb24oKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1OEMwM1x1NzUyOFx1NjZGNFx1NjVCMFx1NTZERVx1OEMwM1xuXHRcdFx0XHR0aGlzLm9uVXBkYXRlQ2FsbGJhY2sodXBkYXRlZE1lbW8pO1xuXHRcdFx0fSxcblx0XHRcdG9uQ2FuY2VsOiAoKSA9PiB7XG5cdFx0XHRcdC8vIFx1NzZGNFx1NjNBNVx1OEJCRVx1N0Y2RVx1NzJCNlx1NjAwMVx1NEUzQVx1OTc1RVx1N0YxNlx1OEY5MVx1RkYwQ1x1NEUwRFx1NEZERFx1NUI1OFx1NEVGQlx1NEY1NVx1NjZGNFx1NjUzOVxuXHRcdFx0XHR0aGlzLnNldEVkaXRpbmdTdGF0ZShmYWxzZSk7XG5cdFx0XHRcdFxuXHRcdFx0XHQvLyBcdTUzRUFcdTkxQ0RcdTY1QjBcdTZFMzJcdTY3RDNcdTUxODVcdTVCQjlcdTU0OENcdTY4MDdcdTdCN0VcdUZGMENcdTRFMERcdTc5RkJcdTUyQThcdTY1NzRcdTRFMkFcdTdCMTRcdThCQjBcdTc2ODRcdTRGNERcdTdGNkVcblx0XHRcdFx0dGhpcy5yZW5kZXJDb250ZW50KHRoaXMuY29udGVudEVsKTtcblx0XHRcdFx0dGhpcy51cGRhdGVUYWdzU2VjdGlvbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdFxuXHRcdHRoaXMuaW5saW5lRWRpdG9yLnJlbmRlcih0aGlzLmNvbnRlbnRFbCk7XG5cdFx0XG5cdFx0Ly8gXHU3ODZFXHU0RkREXHU3RjE2XHU4RjkxXHU1NjY4XHU4M0I3XHU1Rjk3XHU3MTI2XHU3MEI5XG5cdFx0aWYgKHRoaXMuaW5saW5lRWRpdG9yKSB7XG5cdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0dGhpcy5pbmxpbmVFZGl0b3I/LmZvY3VzKCk7XG5cdFx0XHR9LCAxMCk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogXHU2NkY0XHU2NUIwXHU2ODA3XHU3QjdFXHU1MzNBXHU1N0RGXG5cdCAqL1xuXHRwcml2YXRlIHVwZGF0ZVRhZ3NTZWN0aW9uKCk6IHZvaWQge1xuXHRcdC8vIFx1NjI3RVx1NTIzMFx1NzNCMFx1NjcwOVx1NzY4NFx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlxuXHRcdGNvbnN0IGV4aXN0aW5nVGFnc0VsID0gdGhpcy5jb250YWluZXJFbC5xdWVyeVNlbGVjdG9yKCcubWluZGVyLW1lbW8tdGFncycpO1xuXHRcdFxuXHRcdC8vIFx1NTk4Mlx1Njc5Q1x1NjcwOVx1NjgwN1x1N0I3RVx1NEUxNFx1NkNBMVx1NjcwOVx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlx1RkYwQ1x1NkRGQlx1NTJBMFx1NjgwN1x1N0I3RVx1NTMzQVx1NTdERlxuXHRcdGlmICh0aGlzLm1lbW8udGFncy5sZW5ndGggPiAwKSB7XG5cdFx0XHQvLyBcdTU5ODJcdTY3OUNcdTVERjJcdTY3MDlcdTY4MDdcdTdCN0VcdTUzM0FcdTU3REZcdUZGMENcdTZFMDVcdTdBN0FcdTVFNzZcdTkxQ0RcdTY1QjBcdTU4NkJcdTUxNDVcblx0XHRcdGlmIChleGlzdGluZ1RhZ3NFbCkge1xuXHRcdFx0XHRleGlzdGluZ1RhZ3NFbC5lbXB0eSgpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU2REZCXHU1MkEwXHU2NUIwXHU2ODA3XHU3QjdFXG5cdFx0XHRcdHRoaXMubWVtby50YWdzLmZvckVhY2goKHRhZykgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHRhZ0VsID0gZXhpc3RpbmdUYWdzRWwuY3JlYXRlU3Bhbih7IGNsczogXCJtaW5kZXItbWVtby10YWdcIiB9KTtcblx0XHRcdFx0XHR0YWdFbC5zZXRUZXh0KFwiI1wiICsgdGFnKTtcblx0XHRcdFx0XHR0YWdFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IFxuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU2Q0ExXHU2NzA5XHU2ODA3XHU3QjdFXHU1MzNBXHU1N0RGXHU0RjQ2XHU2NzA5XHU2ODA3XHU3QjdFXHVGRjBDXHU1MjFCXHU1RUZBXHU2NUIwXHU3Njg0XHU2ODA3XHU3QjdFXHU1MzNBXHU1N0RGXG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0Y29uc3QgdGFnc0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoe1xuXHRcdFx0XHRcdGNsczogXCJtaW5kZXItbWVtby10YWdzXCIsXG5cdFx0XHRcdH0pO1xuXHRcblx0XHRcdFx0dGhpcy5tZW1vLnRhZ3MuZm9yRWFjaCgodGFnKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgdGFnRWwgPSB0YWdzRWwuY3JlYXRlU3Bhbih7IGNsczogXCJtaW5kZXItbWVtby10YWdcIiB9KTtcblx0XHRcdFx0XHR0YWdFbC5zZXRUZXh0KFwiI1wiICsgdGFnKTtcblx0XHRcdFx0XHR0YWdFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XG5cdFx0XHRcdFx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBcblx0XHQvLyBcdTU5ODJcdTY3OUNcdTZDQTFcdTY3MDlcdTY4MDdcdTdCN0VcdTRGNDZcdTY3MDlcdTY4MDdcdTdCN0VcdTUzM0FcdTU3REZcdUZGMENcdTc5RkJcdTk2NjRcdTY4MDdcdTdCN0VcdTUzM0FcdTU3REZcblx0XHRlbHNlIGlmIChleGlzdGluZ1RhZ3NFbCkge1xuXHRcdFx0ZXhpc3RpbmdUYWdzRWwucmVtb3ZlKCk7XG5cdFx0fVxuXHR9XG5cdFxuXHQvKipcblx0ICogXHU1RjAwXHU1OUNCXHU1MTg1XHU4MDU0XHU3RjE2XHU4RjkxXG5cdCAqL1xuXHRwcml2YXRlIHN0YXJ0SW5saW5lRWRpdGluZygpOiB2b2lkIHtcblx0XHQvLyBcdTk5OTZcdTUxNDhcdTkwMUFcdTc3RTVcdTcyMzZcdTdFQzRcdTRFRjZcdUZGMENcdThGRDlcdTVDMDZcdTg5RTZcdTUzRDFcdTRGRERcdTVCNThcdTUxNzZcdTRFRDZcdTZCNjNcdTU3MjhcdTdGMTZcdThGOTFcdTc2ODRcdTdCMTRcdThCQjBcblx0XHR0aGlzLm9uRWRpdENhbGxiYWNrKHRoaXMubWVtbyk7XG5cdFx0XG5cdFx0Ly8gXHU4QkJFXHU3RjZFXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXG5cdFx0dGhpcy5zZXRFZGl0aW5nU3RhdGUodHJ1ZSk7XG5cdFx0XG5cdFx0Ly8gXHU3NkY0XHU2M0E1XHU2RTMyXHU2N0QzXHU1MTg1XHU4MDU0XHU3RjE2XHU4RjkxXHU1NjY4XHVGRjBDXHU4MDBDXHU0RTBEXHU2NjJGXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU2NTc0XHU0RTJBXHU3RUM0XHU0RUY2XG5cdFx0dGhpcy5yZW5kZXJJbmxpbmVFZGl0b3IoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY2M0VcdTc5M0FcdTY0Q0RcdTRGNUNcdTgzRENcdTUzNTVcblx0ICogQHBhcmFtIHRhcmdldEVsIFx1ODlFNlx1NTNEMVx1ODNEQ1x1NTM1NVx1NzY4NFx1NTE0M1x1N0QyMFxuXHQgKiBAcGFyYW0gZXZlbnQgXHU0RThCXHU0RUY2XHU1QkY5XHU4QzYxXG5cdCAqL1xuXHRwcml2YXRlIHNob3dBY3Rpb25zTWVudSh0YXJnZXRFbDogSFRNTEVsZW1lbnQsIGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG5cdFx0Y29uc3QgbWVudSA9IG5ldyBNZW51KCk7XG5cblx0XHQvLyBcdTdGMTZcdThGOTFcdTgzRENcdTUzNTVcdTk4Nzlcblx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJcdTdGMTZcdThGOTFcIilcblx0XHRcdFx0LnNldEljb24oXCJwZW5jaWxcIilcblx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuc3RhcnRJbmxpbmVFZGl0aW5nKCk7XG5cdFx0XHRcdH0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gXHU1MjIwXHU5NjY0XHU4M0RDXHU1MzU1XHU5ODc5XG5cdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRjb25zdCBpdGVtRG9tID0gaXRlbS5zZXRUaXRsZShcIlx1NTIyMFx1OTY2NFwiKVxuXHRcdFx0XHQuc2V0SWNvbihcInRyYXNoXCIpXG5cdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHQvLyBcdTY2M0VcdTc5M0FcdTUyMjBcdTk2NjRcdTc4NkVcdThCQTRcdTVCRjlcdThCRERcdTY4NDZcblx0XHRcdFx0XHR0aGlzLnNob3dEZWxldGVDb25maXJtYXRpb24oKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJCRVx1N0Y2RVx1NTIyMFx1OTY2NFx1NjU4N1x1NUI1N1x1NEUzQVx1N0VBMlx1ODI3MlxuXHRcdFx0Y29uc3QgdGl0bGVFbCA9IChpdGVtRG9tIGFzIGFueSkudGl0bGVFbDtcblx0XHRcdGlmICh0aXRsZUVsKSB7XG5cdFx0XHRcdHRpdGxlRWwuc3R5bGUuY29sb3IgPSBcInZhcigtLXRleHQtZXJyb3IpXCI7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIFx1OEJCRVx1N0Y2RVx1NTIyMFx1OTY2NFx1NTZGRVx1NjgwN1x1NEUzQVx1N0VBMlx1ODI3MlxuXHRcdFx0Y29uc3QgaWNvbkVsID0gKGl0ZW1Eb20gYXMgYW55KS5pY29uRWw7XG5cdFx0XHRpZiAoaWNvbkVsKSB7XG5cdFx0XHRcdGljb25FbC5zdHlsZS5jb2xvciA9IFwidmFyKC0tdGV4dC1lcnJvcilcIjtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8vIFx1OEZEQlx1NTE2NVx1NkU5MFx1NjU4N1x1NEVGNlx1ODNEQ1x1NTM1NVx1OTg3OVxuXHRcdGlmICh0aGlzLm1lbW8ubGlua2VkRmlsZSkge1xuXHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJcdThGREJcdTUxNjVcdTZFOTBcdTY1ODdcdTRFRjZcIilcblx0XHRcdFx0XHQuc2V0SWNvbihcImZpbGUtdGV4dFwiKVxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZVxuXHRcdFx0XHRcdFx0XHQuZ2V0TGVhZigpXG5cdFx0XHRcdFx0XHRcdC5vcGVuRmlsZSh0aGlzLm1lbW8ubGlua2VkRmlsZSEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0bWVudS5zaG93QXRNb3VzZUV2ZW50KGV2ZW50KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBcdTY2RjRcdTY1QjBcdTdCMTRcdThCQjBcdTY1NzBcdTYzNkVcblx0ICogQHBhcmFtIG1lbW8gXHU2NUIwXHU3Njg0XHU3QjE0XHU4QkIwXHU2NTcwXHU2MzZFXG5cdCAqL1xuXHR1cGRhdGUobWVtbzogTWVtb0l0ZW1JbnRlcmZhY2UpOiB2b2lkIHtcblx0XHR0aGlzLm1lbW8gPSBtZW1vO1xuXG5cdFx0Y29uc3QgcGFyZW50RWwgPSB0aGlzLmNvbnRhaW5lckVsLnBhcmVudEVsZW1lbnQ7XG5cdFx0aWYgKHBhcmVudEVsKSB7XG5cdFx0XHR0aGlzLnJlbmRlcihwYXJlbnRFbCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFx1OEJCRVx1N0Y2RVx1N0YxNlx1OEY5MVx1NzJCNlx1NjAwMVxuXHQgKiBAcGFyYW0gaXNFZGl0aW5nIFx1NjYyRlx1NTQyNlx1NkI2M1x1NTcyOFx1N0YxNlx1OEY5MVxuXHQgKi9cblx0c2V0RWRpdGluZ1N0YXRlKGlzRWRpdGluZzogYm9vbGVhbik6IHZvaWQge1xuXHRcdHRoaXMuaXNFZGl0aW5nID0gaXNFZGl0aW5nO1xuXG5cdFx0aWYgKHRoaXMuY29udGFpbmVyRWwpIHtcblx0XHRcdGlmIChpc0VkaXRpbmcpIHtcblx0XHRcdFx0dGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKFwibWluZGVyLW1lbW8tZWRpdGluZ1wiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuY29udGFpbmVyRWwuY2xhc3NMaXN0LnJlbW92ZShcIm1pbmRlci1tZW1vLWVkaXRpbmdcIik7XG5cdFx0XHRcdHRoaXMuaW5saW5lRWRpdG9yID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBcdTRGRERcdTVCNThcdTVGNTNcdTUyNERcdTdGMTZcdThGOTFcdTUxODVcdTVCQjlcblx0ICogXHU1OTgyXHU2NzlDXHU1RjUzXHU1MjREXHU1OTA0XHU0RThFXHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXHVGRjBDXHU1MjE5XHU0RkREXHU1QjU4XHU2NkY0XHU2NTM5XG5cdCAqL1xuXHRhc3luYyBzYXZlQ3VycmVudEVkaXQoKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Ly8gXHU1OTgyXHU2NzlDXHU0RTBEXHU1NzI4XHU3RjE2XHU4RjkxXHU3MkI2XHU2MDAxXHU2MjE2XHU2Q0ExXHU2NzA5XHU1MTg1XHU4MDU0XHU3RjE2XHU4RjkxXHU1NjY4XHVGRjBDXHU1MjE5XHU0RTBEXHU2MjY3XHU4ODRDXHU0RUZCXHU0RjU1XHU2NENEXHU0RjVDXG5cdFx0aWYgKCF0aGlzLmlzRWRpdGluZyB8fCAhdGhpcy5pbmxpbmVFZGl0b3IpIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0dHJ5IHtcblx0XHRcdC8vIFx1ODNCN1x1NTNENlx1NUY1M1x1NTI0RFx1N0YxNlx1OEY5MVx1NTY2OFx1NzY4NFx1NTE4NVx1NUJCOVxuXHRcdFx0Y29uc3QgY29udGVudCA9IHRoaXMuaW5saW5lRWRpdG9yLmdldENvbnRlbnQoKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1OTgyXHU2NzlDXHU1MTg1XHU1QkI5XHU0RTNBXHU3QTdBXHU2MjE2XHU2NzJBXHU2NkY0XHU2NTM5XHVGRjBDXHU1MjE5XHU0RTBEXHU0RkREXHU1QjU4XG5cdFx0XHRpZiAoIWNvbnRlbnQudHJpbSgpIHx8IGNvbnRlbnQgPT09IHRoaXMubWVtby5jb250ZW50KSB7XG5cdFx0XHRcdHRoaXMuc2V0RWRpdGluZ1N0YXRlKGZhbHNlKTtcblx0XHRcdFx0Ly8gXHU1M0VBXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHU1NDhDXHU2ODA3XHU3QjdFXHVGRjBDXHU0RTBEXHU3OUZCXHU1MkE4XHU2NTc0XHU0RTJBXHU3QjE0XHU4QkIwXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0XHRcdHRoaXMucmVuZGVyQ29udGVudCh0aGlzLmNvbnRlbnRFbCk7XG5cdFx0XHRcdHRoaXMudXBkYXRlVGFnc1NlY3Rpb24oKTtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHQvLyBcdThDMDNcdTc1MjhcdTY3MERcdTUyQTFcdTY2RjRcdTY1QjBcdTdCMTRcdThCQjBcblx0XHRcdGNvbnN0IHVwZGF0ZWRNZW1vID0gYXdhaXQgdGhpcy5tZW1vU2VydmljZS51cGRhdGVNZW1vKHRoaXMubWVtby5pZCwgY29udGVudCk7XG5cdFx0XHRpZiAodXBkYXRlZE1lbW8pIHtcblx0XHRcdFx0Ly8gXHU2NkY0XHU2NUIwXHU2NzJDXHU1NzMwXHU2NTcwXHU2MzZFXG5cdFx0XHRcdHRoaXMubWVtbyA9IHVwZGF0ZWRNZW1vO1xuXHRcdFx0XHQvLyBcdThCQkVcdTdGNkVcdTRFM0FcdTk3NUVcdTdGMTZcdThGOTFcdTcyQjZcdTYwMDFcblx0XHRcdFx0dGhpcy5zZXRFZGl0aW5nU3RhdGUoZmFsc2UpO1xuXHRcdFx0XHRcblx0XHRcdFx0Ly8gXHU1M0VBXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHU1NDhDXHU2ODA3XHU3QjdFXHVGRjBDXHU0RTBEXHU3OUZCXHU1MkE4XHU2NTc0XHU0RTJBXHU3QjE0XHU4QkIwXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0XHRcdHRoaXMucmVuZGVyQ29udGVudCh0aGlzLmNvbnRlbnRFbCk7XG5cdFx0XHRcdHRoaXMudXBkYXRlVGFnc1NlY3Rpb24oKTtcblx0XHRcdFx0XG5cdFx0XHRcdC8vIFx1OEMwM1x1NzUyOFx1NjZGNFx1NjVCMFx1NTZERVx1OEMwM1xuXHRcdFx0XHR0aGlzLm9uVXBkYXRlQ2FsbGJhY2sodXBkYXRlZE1lbW8pO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiXHU0RkREXHU1QjU4XHU3QjE0XHU4QkIwXHU2NUY2XHU1MUZBXHU5NTE5OlwiLCBlcnJvcik7XG5cdFx0XHQvLyBcdTUxRkFcdTk1MTlcdTY1RjZcdUZGMENcdTRFQ0RcdTcxMzZcdTkwMDBcdTUxRkFcdTdGMTZcdThGOTFcdTZBMjFcdTVGMEZcdUZGMENcdTRGNDZcdTRGRERcdTc1NTlcdTUzOUZcdTUxODVcdTVCQjlcblx0XHRcdHRoaXMuc2V0RWRpdGluZ1N0YXRlKGZhbHNlKTtcblx0XHRcdFxuXHRcdFx0Ly8gXHU1M0VBXHU5MUNEXHU2NUIwXHU2RTMyXHU2N0QzXHU1MTg1XHU1QkI5XHVGRjBDXHU0RTBEXHU3OUZCXHU1MkE4XHU2NTc0XHU0RTJBXHU3QjE0XHU4QkIwXHU3Njg0XHU0RjREXHU3RjZFXG5cdFx0XHR0aGlzLnJlbmRlckNvbnRlbnQodGhpcy5jb250ZW50RWwpO1xuXHRcdH1cblx0fVxuXHRcblx0LyoqXG5cdCAqIFx1NjYzRVx1NzkzQVx1NTIyMFx1OTY2NFx1Nzg2RVx1OEJBNFx1NUJGOVx1OEJERFx1Njg0NlxuXHQgKi9cblx0cHJpdmF0ZSBzaG93RGVsZXRlQ29uZmlybWF0aW9uKCk6IHZvaWQge1xuXHRcdC8vIFx1NTIxQlx1NUVGQVx1Nzg2RVx1OEJBNFx1NUJGOVx1OEJERFx1Njg0NlxuXHRcdGNvbnN0IGNvbmZpcm1Nb2RhbCA9IG5ldyBNb2RhbCh0aGlzLmFwcCk7XG5cdFx0Y29uZmlybU1vZGFsLnRpdGxlRWwuc2V0VGV4dChcIlx1Nzg2RVx1OEJBNFx1NTIyMFx1OTY2NFwiKTtcblx0XHRcblx0XHQvLyBcdThCQkVcdTdGNkVcdTVCRjlcdThCRERcdTY4NDZcdTUxODVcdTVCQjlcblx0XHRjb25zdCBjb250ZW50RWwgPSBjb25maXJtTW9kYWwuY29udGVudEVsO1xuXHRcdGNvbnRlbnRFbC5lbXB0eSgpO1xuXHRcdFxuXHRcdGNvbnN0IG1lc3NhZ2VFbCA9IGNvbnRlbnRFbC5jcmVhdGVEaXYoKTtcblx0XHRtZXNzYWdlRWwuc2V0VGV4dChcIlx1Nzg2RVx1NUI5QVx1ODk4MVx1NTIyMFx1OTY2NFx1OEZEOVx1Njc2MVx1N0IxNFx1OEJCMFx1NTQxN1x1RkYxRlx1NkI2NFx1NjRDRFx1NEY1Q1x1NEUwRFx1NTNFRlx1NjRBNFx1OTUwMFx1MzAwMlwiKTtcblx0XHRtZXNzYWdlRWwuc3R5bGUubWFyZ2luQm90dG9tID0gXCIyMHB4XCI7XG5cdFx0XG5cdFx0Ly8gXHU2REZCXHU1MkEwXHU5ODg0XHU4OUM4XHU1MTg1XHU1QkI5XG5cdFx0Y29uc3QgcHJldmlld0VsID0gY29udGVudEVsLmNyZWF0ZURpdih7IGNsczogXCJtaW5kZXItZGVsZXRlLXByZXZpZXdcIiB9KTtcblx0XHRwcmV2aWV3RWwuc3R5bGUucGFkZGluZyA9IFwiMTBweFwiO1xuXHRcdHByZXZpZXdFbC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJ2YXIoLS1iYWNrZ3JvdW5kLXNlY29uZGFyeSlcIjtcblx0XHRwcmV2aWV3RWwuc3R5bGUuYm9yZGVyUmFkaXVzID0gXCI1cHhcIjtcblx0XHRwcmV2aWV3RWwuc3R5bGUubWFyZ2luQm90dG9tID0gXCIyMHB4XCI7XG5cdFx0cHJldmlld0VsLnN0eWxlLm1heEhlaWdodCA9IFwiMTAwcHhcIjtcblx0XHRwcmV2aWV3RWwuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcblx0XHRcblx0XHQvLyBcdTYyMkFcdTUzRDZcdTUxODVcdTVCQjlcdTc2ODRcdTUyNEQ1MFx1NEUyQVx1NUI1N1x1N0IyNlx1NEY1Q1x1NEUzQVx1OTg4NFx1ODlDOFxuXHRcdGNvbnN0IHByZXZpZXdDb250ZW50ID0gdGhpcy5tZW1vLmNvbnRlbnQubGVuZ3RoID4gNTAgXG5cdFx0XHQ/IHRoaXMubWVtby5jb250ZW50LnN1YnN0cmluZygwLCA1MCkgKyBcIi4uLlwiIFxuXHRcdFx0OiB0aGlzLm1lbW8uY29udGVudDtcblx0XHRcblx0XHRwcmV2aWV3RWwuc2V0VGV4dChwcmV2aWV3Q29udGVudCk7XG5cdFx0XG5cdFx0Ly8gXHU2MzA5XHU5NEFFXHU1QkI5XHU1NjY4XG5cdFx0Y29uc3QgYnV0dG9uQ29udGFpbmVyID0gY29udGVudEVsLmNyZWF0ZURpdigpO1xuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdFx0YnV0dG9uQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJmbGV4LWVuZFwiO1xuXHRcdGJ1dHRvbkNvbnRhaW5lci5zdHlsZS5nYXAgPSBcIjEwcHhcIjtcblx0XHRcblx0XHQvLyBcdTUzRDZcdTZEODhcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBjYW5jZWxCdXR0b24gPSBidXR0b25Db250YWluZXIuY3JlYXRlRWwoXCJidXR0b25cIik7XG5cdFx0Y2FuY2VsQnV0dG9uLnNldFRleHQoXCJcdTUzRDZcdTZEODhcIik7XG5cdFx0Y2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHRjb25maXJtTW9kYWwuY2xvc2UoKTtcblx0XHR9KTtcblx0XHRcblx0XHQvLyBcdTc4NkVcdThCQTRcdTUyMjBcdTk2NjRcdTYzMDlcdTk0QUVcblx0XHRjb25zdCBjb25maXJtQnV0dG9uID0gYnV0dG9uQ29udGFpbmVyLmNyZWF0ZUVsKFwiYnV0dG9uXCIpO1xuXHRcdGNvbmZpcm1CdXR0b24uc2V0VGV4dChcIlx1NTIyMFx1OTY2NFwiKTtcblx0XHRjb25maXJtQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJtb2Qtd2FybmluZ1wiKTtcblx0XHRjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0XHR0aGlzLm9uRGVsZXRlQ2FsbGJhY2sodGhpcy5tZW1vKTtcblx0XHRcdGNvbmZpcm1Nb2RhbC5jbG9zZSgpO1xuXHRcdH0pO1xuXHRcdFxuXHRcdC8vIFx1NjI1M1x1NUYwMFx1NUJGOVx1OEJERFx1Njg0NlxuXHRcdGNvbmZpcm1Nb2RhbC5vcGVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogXHU4M0I3XHU1M0Q2XHU1QkI5XHU1NjY4XHU1MTQzXHU3RDIwXG5cdCAqIEByZXR1cm5zIFx1NUJCOVx1NTY2OFx1NTE0M1x1N0QyMFxuXHQgKi9cblx0Z2V0Q29udGFpbmVyRWwoKTogSFRNTEVsZW1lbnQge1xuXHRcdHJldHVybiB0aGlzLmNvbnRhaW5lckVsO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgbW9tZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcblxyXG4vKipcclxuICogXHU2ODNDXHU1RjBGXHU1MzE2XHU2NUU1XHU2NzFGXHJcbiAqIEBwYXJhbSB0aW1lc3RhbXAgXHU2NUY2XHU5NUY0XHU2MjMzXHVGRjA4XHU2QkVCXHU3OUQyXHVGRjA5XHJcbiAqIEBwYXJhbSBmb3JtYXQgXHU2NUU1XHU2NzFGXHU2ODNDXHU1RjBGXHJcbiAqIEByZXR1cm5zIFx1NjgzQ1x1NUYwRlx1NTMxNlx1NTQwRVx1NzY4NFx1NjVFNVx1NjcxRlx1NUI1N1x1N0IyNlx1NEUzMlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdERhdGUodGltZXN0YW1wOiBudW1iZXIsIGZvcm1hdDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIHJldHVybiBtb21lbnQodGltZXN0YW1wKS5mb3JtYXQoZm9ybWF0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFx1ODNCN1x1NTNENlx1NEVDQVx1NTkyOVx1NzY4NFx1NUYwMFx1NTlDQlx1NjVGNlx1OTVGNFx1NjIzM1xyXG4gKiBAcmV0dXJucyBcdTRFQ0FcdTU5MjlcdTk2RjZcdTcwQjlcdTc2ODRcdTY1RjZcdTk1RjRcdTYyMzNcdUZGMDhcdTZCRUJcdTc5RDJcdUZGMDlcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2RheVN0YXJ0VGltZXN0YW1wKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgdG9kYXlTdGFydCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSk7XHJcbiAgICByZXR1cm4gdG9kYXlTdGFydC5nZXRUaW1lKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTgzQjdcdTUzRDZcdTRFQ0FcdTU5MjlcdTc2ODRcdTdFRDNcdTY3NUZcdTY1RjZcdTk1RjRcdTYyMzNcclxuICogQHJldHVybnMgXHU0RUNBXHU1OTI5XHU3RUQzXHU2NzVGXHU3Njg0XHU2NUY2XHU5NUY0XHU2MjMzXHVGRjA4XHU2QkVCXHU3OUQyXHVGRjA5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VG9kYXlFbmRUaW1lc3RhbXAoKTogbnVtYmVyIHtcclxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XHJcbiAgICBjb25zdCB0b2RheUVuZCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgbm93LmdldERhdGUoKSwgMjMsIDU5LCA1OSwgOTk5KTtcclxuICAgIHJldHVybiB0b2RheUVuZC5nZXRUaW1lKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTgzQjdcdTUzRDZcdTY3MkNcdTU0NjhcdTc2ODRcdTVGMDBcdTU5Q0JcdTY1RjZcdTk1RjRcdTYyMzNcclxuICogQHJldHVybnMgXHU2NzJDXHU1NDY4XHU0RTAwXHU5NkY2XHU3MEI5XHU3Njg0XHU2NUY2XHU5NUY0XHU2MjMzXHVGRjA4XHU2QkVCXHU3OUQyXHVGRjA5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0V2Vla1N0YXJ0VGltZXN0YW1wKCk6IG51bWJlciB7XHJcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY29uc3QgZGF5ID0gbm93LmdldERheSgpIHx8IDc7IC8vIFx1NUMwNlx1NTQ2OFx1NjVFNVx1NzY4NDBcdThGNkNcdTYzNjJcdTRFM0E3XHJcbiAgICBjb25zdCBkaWZmID0gbm93LmdldERhdGUoKSAtIGRheSArIDE7IC8vIFx1OEMwM1x1NjU3NFx1NTIzMFx1NjcyQ1x1NTQ2OFx1NEUwMFxyXG4gICAgY29uc3Qgd2Vla1N0YXJ0ID0gbmV3IERhdGUobm93LnNldERhdGUoZGlmZikpO1xyXG4gICAgd2Vla1N0YXJ0LnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgcmV0dXJuIHdlZWtTdGFydC5nZXRUaW1lKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcdTgzQjdcdTUzRDZcdTc2RjhcdTVCRjlcdTY1RjZcdTk1RjRcdTYzQ0ZcdThGRjBcclxuICogQHBhcmFtIHRpbWVzdGFtcCBcdTY1RjZcdTk1RjRcdTYyMzNcdUZGMDhcdTZCRUJcdTc5RDJcdUZGMDlcclxuICogQHJldHVybnMgXHU3NkY4XHU1QkY5XHU2NUY2XHU5NUY0XHU2M0NGXHU4RkYwXHU1QjU3XHU3QjI2XHU0RTMyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVsYXRpdmVUaW1lU3RyaW5nKHRpbWVzdGFtcDogbnVtYmVyKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBkaWZmID0gbm93IC0gdGltZXN0YW1wO1xyXG5cclxuICAgIC8vIFx1NUMwRlx1NEU4RTFcdTUyMDZcdTk0OUZcclxuICAgIGlmIChkaWZmIDwgNjAgKiAxMDAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiXHU1MjFBXHU1MjFBXCI7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFx1NUMwRlx1NEU4RTFcdTVDMEZcdTY1RjZcclxuICAgIGlmIChkaWZmIDwgNjAgKiA2MCAqIDEwMDApIHtcclxuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkaWZmIC8gKDYwICogMTAwMCkpO1xyXG4gICAgICAgIHJldHVybiBgJHttaW51dGVzfVx1NTIwNlx1OTQ5Rlx1NTI0RGA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFx1NUMwRlx1NEU4RTFcdTU5MjlcclxuICAgIGlmIChkaWZmIDwgMjQgKiA2MCAqIDYwICogMTAwMCkge1xyXG4gICAgICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkaWZmIC8gKDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgcmV0dXJuIGAke2hvdXJzfVx1NUMwRlx1NjVGNlx1NTI0RGA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFx1NUMwRlx1NEU4RTFcdTU0NjhcclxuICAgIGlmIChkaWZmIDwgNyAqIDI0ICogNjAgKiA2MCAqIDEwMDApIHtcclxuICAgICAgICBjb25zdCBkYXlzID0gTWF0aC5mbG9vcihkaWZmIC8gKDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICByZXR1cm4gYCR7ZGF5c31cdTU5MjlcdTUyNERgO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBcdTU5MjdcdTRFOEUxXHU1NDY4XHVGRjBDXHU4RkQ0XHU1NkRFXHU1MTc3XHU0RjUzXHU2NUU1XHU2NzFGXHJcbiAgICByZXR1cm4gZm9ybWF0RGF0ZSh0aW1lc3RhbXAsIFwiWVlZWS1NTS1ERFwiKTtcclxufSAiLCAiaW1wb3J0IHsgQXBwLCBCdXR0b25Db21wb25lbnQsIFRleHRBcmVhQ29tcG9uZW50IH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IE1lbW9JdGVtIH0gZnJvbSBcIi4uL3R5cGVzXCI7XHJcbmltcG9ydCB7IE1lbW9TZXJ2aWNlIH0gZnJvbSBcIi4uL3NlcnZpY2VzL21lbW9TZXJ2aWNlXCI7XHJcbmltcG9ydCB7IGV4dHJhY3RUYWdzRnJvbUNvbnRlbnQgfSBmcm9tIFwiLi4vdXRpbHMvZmlsZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJbmxpbmVNZW1vRWRpdG9yT3B0aW9ucyB7XHJcbiAgICBhcHA6IEFwcDtcclxuICAgIG1lbW9TZXJ2aWNlOiBNZW1vU2VydmljZTtcclxuICAgIG1lbW86IE1lbW9JdGVtO1xyXG4gICAgb25TdWJtaXQ6IChtZW1vOiBNZW1vSXRlbSkgPT4gdm9pZDtcclxuICAgIG9uQ2FuY2VsOiAoKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgSW5saW5lTWVtb0VkaXRvciB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSBtZW1vU2VydmljZTogTWVtb1NlcnZpY2U7XHJcbiAgICBwcml2YXRlIG1lbW86IE1lbW9JdGVtO1xyXG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRleHRBcmVhOiBUZXh0QXJlYUNvbXBvbmVudDtcclxuICAgIHByaXZhdGUgb25TdWJtaXRDYWxsYmFjazogKG1lbW86IE1lbW9JdGVtKSA9PiB2b2lkO1xyXG4gICAgcHJpdmF0ZSBvbkNhbmNlbENhbGxiYWNrOiAoKSA9PiB2b2lkO1xyXG4gICAgcHJpdmF0ZSB0YWdQcmV2aWV3RWw6IEhUTUxFbGVtZW50O1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBJbmxpbmVNZW1vRWRpdG9yT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYXBwID0gb3B0aW9ucy5hcHA7XHJcbiAgICAgICAgdGhpcy5tZW1vU2VydmljZSA9IG9wdGlvbnMubWVtb1NlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5tZW1vID0gb3B0aW9ucy5tZW1vO1xyXG4gICAgICAgIHRoaXMub25TdWJtaXRDYWxsYmFjayA9IG9wdGlvbnMub25TdWJtaXQ7XHJcbiAgICAgICAgdGhpcy5vbkNhbmNlbENhbGxiYWNrID0gb3B0aW9ucy5vbkNhbmNlbDtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc05hbWUgPSAnbWluZGVyLWlubGluZS1lZGl0b3InO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFx1NkUzMlx1NjdEM1x1NTE4NVx1ODA1NFx1N0YxNlx1OEY5MVx1NTY2OFxyXG4gICAgICogQHBhcmFtIHBhcmVudEVsIFx1NzIzNlx1NTE0M1x1N0QyMFxyXG4gICAgICogQHJldHVybnMgXHU3RjE2XHU4RjkxXHU1NjY4XHU1MTQzXHU3RDIwXHJcbiAgICAgKi9cclxuICAgIHJlbmRlcihwYXJlbnRFbDogSFRNTEVsZW1lbnQpOiBIVE1MRWxlbWVudCB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbC5lbXB0eSgpO1xyXG4gICAgICAgIHBhcmVudEVsLmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyRWwpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1N0YxNlx1OEY5MVx1NTMzQVx1NTdERlxyXG4gICAgICAgIGNvbnN0IGVkaXRvckNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAnbWluZGVyLWlubGluZS1lZGl0b3ItY29udGFpbmVyJyB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBcdTY1ODdcdTY3MkNcdThGOTNcdTUxNjVcdTUzM0FcclxuICAgICAgICB0aGlzLnRleHRBcmVhID0gbmV3IFRleHRBcmVhQ29tcG9uZW50KGVkaXRvckNvbnRhaW5lcik7XHJcbiAgICAgICAgdGhpcy50ZXh0QXJlYVxyXG4gICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ1x1OEY5M1x1NTE2NVx1NEY2MFx1NzY4NFx1NjBGM1x1NkNENS4uLicpXHJcbiAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLm1lbW8uY29udGVudClcclxuICAgICAgICAgICAgLm9uQ2hhbmdlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJldmlld1RhZ3MoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5pbnB1dEVsLmNsYXNzTmFtZSA9ICdtaW5kZXItaW5saW5lLWVkaXRvci10ZXh0YXJlYSc7XHJcbiAgICAgICAgdGhpcy50ZXh0QXJlYS5pbnB1dEVsLmZvY3VzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU4QkJFXHU3RjZFXHU4MUVBXHU1MkE4XHU4QzAzXHU2NTc0XHU5QUQ4XHU1RUE2XHU3Njg0XHU0RThCXHU0RUY2XHJcbiAgICAgICAgdGhpcy5zZXR1cEF1dG9SZXNpemUoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBcdTVFOTVcdTkwRThcdTVERTVcdTUxNzdcdTY4MEZcdTUzM0FcdTU3REZcdUZGMDhcdTUzMDVcdTU0MkJcdTY4MDdcdTdCN0VcdTk4ODRcdTg5QzhcdTU0OENcdTYzMDlcdTk0QUVcdUZGMDlcclxuICAgICAgICBjb25zdCBib3R0b21CYXJFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAnbWluZGVyLWlubGluZS1lZGl0b3ItYm90dG9tLWJhcicgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU2ODA3XHU3QjdFXHU5ODg0XHU4OUM4XHU1MzNBXHU1N0RGXHJcbiAgICAgICAgdGhpcy50YWdQcmV2aWV3RWwgPSBib3R0b21CYXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdtaW5kZXItdGFnLXByZXZpZXcnIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NjRDRFx1NEY1Q1x1NjMwOVx1OTRBRVx1NTMzQVx1NTdERlxyXG4gICAgICAgIGNvbnN0IGJ1dHRvbkNvbnRhaW5lciA9IGJvdHRvbUJhckVsLmNyZWF0ZURpdih7IGNsczogJ21pbmRlci1pbmxpbmUtZWRpdG9yLWJ1dHRvbnMnIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NTNENlx1NkQ4OFx1NjMwOVx1OTRBRVxyXG4gICAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9uQ29udGFpbmVyKTtcclxuICAgICAgICBjYW5jZWxCdXR0b25cclxuICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoJ1x1NTNENlx1NkQ4OCcpXHJcbiAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFx1NTNENlx1NkQ4OFx1N0YxNlx1OEY5MVx1RkYwQ1x1NEUwRFx1NEZERFx1NUI1OFx1NEVGQlx1NEY1NVx1NjZGNFx1NjUzOVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNhbmNlbENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NjNEMFx1NEVBNFx1NjMwOVx1OTRBRVxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9uQ29udGFpbmVyKTtcclxuICAgICAgICBzdWJtaXRCdXR0b25cclxuICAgICAgICAgICAgLnNldEJ1dHRvblRleHQoJ1x1NEZERFx1NUI1OCcpXHJcbiAgICAgICAgICAgIC5zZXRDdGEoKVxyXG4gICAgICAgICAgICAub25DbGljaygoKSA9PiB0aGlzLnN1Ym1pdE1lbW8oKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU1MjFEXHU1OUNCXHU1MzE2XHU2ODA3XHU3QjdFXHU5ODg0XHU4OUM4XHJcbiAgICAgICAgdGhpcy5wcmV2aWV3VGFncygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NTIxRFx1NTlDQlx1NTMxNlx1NjVGNlx1OEMwM1x1NjU3NFx1OUFEOFx1NUVBNlxyXG4gICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJFbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBcdThCQkVcdTdGNkVcdTgxRUFcdTUyQThcdThDMDNcdTY1NzRcdTlBRDhcdTVFQTZcdTc2ODRcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZXR1cEF1dG9SZXNpemUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRleHRBcmVhIHx8ICF0aGlzLnRleHRBcmVhLmlucHV0RWwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICAvLyBcdThGOTNcdTUxNjVcdTRFOEJcdTRFRjZcdTc2RDFcdTU0MkNcclxuICAgICAgICB0aGlzLnRleHRBcmVhLmlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBcdTdBOTdcdTUzRTNcdTU5MjdcdTVDMEZcdTY1MzlcdTUzRDhcdTY1RjZcdTRFNUZcdThDMDNcdTY1NzRcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkanVzdFRleHRhcmVhSGVpZ2h0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU4QzAzXHU2NTc0XHU2NTg3XHU2NzJDXHU1MzNBXHU1N0RGXHU5QUQ4XHU1RUE2XHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYWRqdXN0VGV4dGFyZWFIZWlnaHQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRleHRBcmVhIHx8ICF0aGlzLnRleHRBcmVhLmlucHV0RWwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0ZXh0YXJlYUVsID0gdGhpcy50ZXh0QXJlYS5pbnB1dEVsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1OTFDRFx1N0Y2RVx1OUFEOFx1NUVBNlx1NEVFNVx1ODNCN1x1NTNENlx1NkI2M1x1Nzg2RVx1NzY4NFx1NkVEQVx1NTJBOFx1OUFEOFx1NUVBNlxyXG4gICAgICAgIHRleHRhcmVhRWwuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1OEJCRVx1N0Y2RVx1NjVCMFx1OUFEOFx1NUVBNlxyXG4gICAgICAgIHRleHRhcmVhRWwuc3R5bGUuaGVpZ2h0ID0gdGV4dGFyZWFFbC5zY3JvbGxIZWlnaHQgKyAncHgnO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFx1OTg4NFx1ODlDOFx1NjgwN1x1N0I3RVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHByZXZpZXdUYWdzKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICghdGhpcy50YWdQcmV2aWV3RWwpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnRhZ1ByZXZpZXdFbC5lbXB0eSgpO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0aGlzLnRleHRBcmVhLmdldFZhbHVlKCk7XHJcbiAgICAgICAgY29uc3QgdGFncyA9IGV4dHJhY3RUYWdzRnJvbUNvbnRlbnQoY29udGVudCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRhZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhZ1ByZXZpZXdFbC5jcmVhdGVTcGFuKHsgdGV4dDogJ1x1NjgwN1x1N0I3RTogJyB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRhZ3MuZm9yRWFjaCh0YWcgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGFnRWwgPSB0aGlzLnRhZ1ByZXZpZXdFbC5jcmVhdGVTcGFuKHsgY2xzOiAnbWluZGVyLXRhZy1wcmV2aWV3LWl0ZW0nIH0pO1xyXG4gICAgICAgICAgICAgICAgdGFnRWwuc2V0VGV4dCh0YWcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU2M0QwXHU0RUE0XHU3QjE0XHU4QkIwXHJcbiAgICAgKi9cclxuICAgIHByaXZhdGUgYXN5bmMgc3VibWl0TWVtbygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy50ZXh0QXJlYS5nZXRWYWx1ZSgpO1xyXG4gICAgICAgIGlmICghY29udGVudC50cmltKCkpIHJldHVybjtcclxuICAgICAgICBcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBcdTY2RjRcdTY1QjBcdTczQjBcdTY3MDlcdTdCMTRcdThCQjBcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZCA9IGF3YWl0IHRoaXMubWVtb1NlcnZpY2UudXBkYXRlTWVtbyh0aGlzLm1lbW8uaWQsIGNvbnRlbnQpO1xyXG4gICAgICAgICAgICBpZiAodXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gXHU4OUU2XHU1M0QxXHU1NkRFXHU4QzAzXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3VibWl0Q2FsbGJhY2sodXBkYXRlZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1x1NjZGNFx1NjVCMFx1N0IxNFx1OEJCMFx1NTkzMVx1OEQyNScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignXHU0RkREXHU1QjU4XHU3QjE0XHU4QkIwXHU2NUY2XHU1MUZBXHU5NTE5OicsIGVycm9yKTtcclxuICAgICAgICAgICAgLy8gXHU1M0VGXHU0RUU1XHU1NzI4XHU4RkQ5XHU5MUNDXHU2REZCXHU1MkEwXHU5NTE5XHU4QkVGXHU5MDFBXHU3N0U1XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFx1ODNCN1x1NTNENlx1NTE4NVx1NUJCOVxyXG4gICAgICovXHJcbiAgICBnZXRDb250ZW50KCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dEFyZWEgPyB0aGlzLnRleHRBcmVhLmdldFZhbHVlKCkgOiAnJztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLyoqXHJcbiAgICAgKiBcdTgwNUFcdTcxMjZcdTUyMzBcdTdGMTZcdThGOTFcdTU2NjhcclxuICAgICAqL1xyXG4gICAgZm9jdXMoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMudGV4dEFyZWEgJiYgdGhpcy50ZXh0QXJlYS5pbnB1dEVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWEuaW5wdXRFbC5mb2N1cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSAiLCAiaW1wb3J0IHsgQXBwLCBzZXRJY29uIH0gZnJvbSBcIm9ic2lkaWFuXCI7XHJcbmltcG9ydCB7IFRhZ1NlcnZpY2UsIFRhZ1dpdGhDb3VudCB9IGZyb20gXCIuLi9zZXJ2aWNlcy90YWdTZXJ2aWNlXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRhZ3NCYXJPcHRpb25zIHtcclxuICAgIGFwcDogQXBwO1xyXG4gICAgdGFnU2VydmljZTogVGFnU2VydmljZTtcclxuICAgIG9uVGFnQ2xpY2s/OiAodGFnTmFtZTogc3RyaW5nKSA9PiB2b2lkO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVGFnc0JhciB7XHJcbiAgICBwcml2YXRlIGFwcDogQXBwO1xyXG4gICAgcHJpdmF0ZSB0YWdTZXJ2aWNlOiBUYWdTZXJ2aWNlO1xyXG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQ7XHJcbiAgICBwcml2YXRlIHRhZ3M6IFRhZ1dpdGhDb3VudFtdID0gW107XHJcbiAgICBwcml2YXRlIHNlbGVjdGVkVGFnOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgb25UYWdDbGlja0NhbGxiYWNrOiAodGFnTmFtZTogc3RyaW5nKSA9PiB2b2lkO1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiBUYWdzQmFyT3B0aW9ucykge1xyXG4gICAgICAgIHRoaXMuYXBwID0gb3B0aW9ucy5hcHA7XHJcbiAgICAgICAgdGhpcy50YWdTZXJ2aWNlID0gb3B0aW9ucy50YWdTZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMub25UYWdDbGlja0NhbGxiYWNrID0gb3B0aW9ucy5vblRhZ0NsaWNrIHx8ICgoKSA9PiB7fSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5jb250YWluZXJFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuY2xhc3NOYW1lID0gJ21pbmRlci10YWdzLWJhcic7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU2RTMyXHU2N0QzXHU2ODA3XHU3QjdFXHU2ODBGXHJcbiAgICAgKiBAcGFyYW0gcGFyZW50RWwgXHU3MjM2XHU1MTQzXHU3RDIwXHJcbiAgICAgKiBAcmV0dXJucyBcdTY4MDdcdTdCN0VcdTY4MEZcdTUxNDNcdTdEMjBcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVuZGVyKHBhcmVudEVsOiBIVE1MRWxlbWVudCk6IFByb21pc2U8SFRNTEVsZW1lbnQ+IHtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XHJcbiAgICAgICAgcGFyZW50RWwuYXBwZW5kQ2hpbGQodGhpcy5jb250YWluZXJFbCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU4M0I3XHU1M0Q2XHU2MjQwXHU2NzA5XHU2ODA3XHU3QjdFXHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkVGFncygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NTIxQlx1NUVGQVwiXHU1MTY4XHU5MEU4XCJcdTY4MDdcdTdCN0VcdTkwMDlcdTk4NzlcclxuICAgICAgICBjb25zdCBhbGxUYWdFbCA9IHRoaXMuY29udGFpbmVyRWwuY3JlYXRlRGl2KHsgY2xzOiAnbWluZGVyLXRhZy1pdGVtJyB9KTtcclxuICAgICAgICBhbGxUYWdFbC5jbGFzc0xpc3QudG9nZ2xlKCdtaW5kZXItdGFnLXNlbGVjdGVkJywgdGhpcy5zZWxlY3RlZFRhZyA9PT0gbnVsbCk7XHJcbiAgICAgICAgYWxsVGFnRWwuc2V0VGV4dCgnXHU1MTY4XHU5MEU4Jyk7XHJcbiAgICAgICAgYWxsVGFnRWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLnNlbGVjdFRhZyhudWxsKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gXHU1MjFCXHU1RUZBXHU2ODA3XHU3QjdFXHU1MjE3XHU4ODY4XHJcbiAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgdGhpcy50YWdzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhZ0VsID0gdGhpcy5jb250YWluZXJFbC5jcmVhdGVEaXYoeyBjbHM6ICdtaW5kZXItdGFnLWl0ZW0nIH0pO1xyXG4gICAgICAgICAgICB0YWdFbC5jbGFzc0xpc3QudG9nZ2xlKCdtaW5kZXItdGFnLXNlbGVjdGVkJywgdGFnLm5hbWUgPT09IHRoaXMuc2VsZWN0ZWRUYWcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGFnRWwuY3JlYXRlU3Bhbih7IHRleHQ6IHRhZy5uYW1lIH0pO1xyXG4gICAgICAgICAgICB0YWdFbC5jcmVhdGVTcGFuKHsgY2xzOiAnbWluZGVyLXRhZy1jb3VudCcsIHRleHQ6IGAoJHt0YWcuY291bnR9KWAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0YWdFbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHRoaXMuc2VsZWN0VGFnKHRhZy5uYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lckVsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvKipcclxuICAgICAqIFx1NTJBMFx1OEY3RFx1NjgwN1x1N0I3RVxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIGFzeW5jIGxvYWRUYWdzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHRoaXMudGFncyA9IGF3YWl0IHRoaXMudGFnU2VydmljZS5nZXRBbGxUYWdzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU5MDA5XHU2MkU5XHU2ODA3XHU3QjdFXHJcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSBcdTY4MDdcdTdCN0VcdTU0MERcclxuICAgICAqL1xyXG4gICAgcHJpdmF0ZSBzZWxlY3RUYWcodGFnTmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRUYWcgPSB0YWdOYW1lO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1NjZGNFx1NjVCMFVJXHU3MkI2XHU2MDAxXHJcbiAgICAgICAgY29uc3QgdGFnSXRlbXMgPSB0aGlzLmNvbnRhaW5lckVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5taW5kZXItdGFnLWl0ZW0nKTtcclxuICAgICAgICB0YWdJdGVtcy5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gaW5kZXggPT09IDAgPyBcclxuICAgICAgICAgICAgICAgICh0aGlzLnNlbGVjdGVkVGFnID09PSBudWxsKSA6IFxyXG4gICAgICAgICAgICAgICAgKHRoaXMuc2VsZWN0ZWRUYWcgPT09IHRoaXMudGFnc1tpbmRleCAtIDFdPy5uYW1lKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbWluZGVyLXRhZy1zZWxlY3RlZCcsIGlzU2VsZWN0ZWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFx1ODlFNlx1NTNEMVx1NTZERVx1OEMwM1xyXG4gICAgICAgIGlmICh0YWdOYW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25UYWdDbGlja0NhbGxiYWNrKHRhZ05hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMub25UYWdDbGlja0NhbGxiYWNrKCcnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU1MjM3XHU2NUIwXHU2ODA3XHU3QjdFXHU2NTcwXHU2MzZFXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlZnJlc2goKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkVGFncygpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lckVsLnBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXIodGhpcy5jb250YWluZXJFbC5wYXJlbnRFbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU4M0I3XHU1M0Q2XHU5MDA5XHU0RTJEXHU3Njg0XHU2ODA3XHU3QjdFXHJcbiAgICAgKiBAcmV0dXJucyBcdTkwMDlcdTRFMkRcdTc2ODRcdTY4MDdcdTdCN0VcdTU0MERcclxuICAgICAqL1xyXG4gICAgZ2V0U2VsZWN0ZWRUYWcoKTogc3RyaW5nIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRUYWc7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICogXHU4QkJFXHU3RjZFXHU5MDA5XHU0RTJEXHU3Njg0XHU2ODA3XHU3QjdFXHJcbiAgICAgKiBAcGFyYW0gdGFnTmFtZSBcdTY4MDdcdTdCN0VcdTU0MERcclxuICAgICAqL1xyXG4gICAgc2V0U2VsZWN0ZWRUYWcodGFnTmFtZTogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2VsZWN0VGFnKHRhZ05hbWUpO1xyXG4gICAgfVxyXG59ICJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxJQUFBQSxtQkFBcUU7OztBQ0FyRSxzQkFBK0M7QUFHeEMsSUFBTSxtQkFBbUM7QUFBQSxFQUM1QyxhQUFhO0FBQUEsRUFDYixZQUFZO0FBQUEsRUFDWixjQUFjO0FBQUEsRUFDZCxhQUFhO0FBQUEsRUFDYixlQUFlO0FBQ25CO0FBRU8sSUFBTSxtQkFBTixjQUErQixpQ0FBaUI7QUFBQSxFQUduRCxZQUFZLEtBQVUsUUFBYTtBQUMvQixVQUFNLEtBQUssTUFBTTtBQUNqQixTQUFLLFNBQVM7QUFBQSxFQUNsQjtBQUFBLEVBRUEsVUFBZ0I7QUFDWixVQUFNLEVBQUUsWUFBWSxJQUFJO0FBQ3hCLGdCQUFZLE1BQU07QUFFbEIsZ0JBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxzQkFBWSxDQUFDO0FBRWhELFFBQUksd0JBQVEsV0FBVyxFQUNsQixRQUFRLHND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QUM7QUFDckUsY0FBSSxVQUFVO0FBQ2Isa0JBQU0sT0FBTyxTQUFTO0FBQ3RCLGlCQUFLLFlBQVk7QUFBQSxVQUNsQjtBQUFBLFFBQ0QsQ0FBQztBQUFBLE1BQ0Y7QUFBQSxJQUNELENBQUM7QUFHRCxTQUFLLGNBQWMsSUFBSSxpQkFBaUIsS0FBSyxLQUFLLElBQUksQ0FBQztBQUd2RCxRQUFJLEtBQUssU0FBUyxlQUFlO0FBRWhDLGlCQUFXLE1BQU07QUFDaEIsYUFBSyxhQUFhO0FBQUEsTUFDbkIsR0FBRyxHQUFHO0FBQUEsSUFDUDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLFdBQVc7QUFFVixTQUFLLElBQUksVUFBVSxnQkFBZ0IsY0FBYyxFQUFFLFFBQVEsVUFBUSxLQUFLLE9BQU8sQ0FBQztBQUFBLEVBQ2pGO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsU0FBSyxXQUFXLE9BQU8sT0FBTyxDQUFDLEdBQUcsa0JBQWtCLE1BQU0sS0FBSyxTQUFTLENBQUM7QUFBQSxFQUMxRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFVBQU0sS0FBSyxTQUFTLEtBQUssUUFBUTtBQUFBLEVBQ2xDO0FBQUE7QUFBQTtBQUFBO0FBQUEsRUFLQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBRzNCLFFBQUksT0FBTyxVQUFVLGdCQUFnQixjQUFjLEVBQUUsQ0FBQztBQUV0RCxRQUFJLENBQUMsTUFBTTtBQUVWLGFBQU8sVUFBVSxRQUFRLEtBQUs7QUFDOUIsVUFBSSxNQUFNO0FBQ1QsY0FBTSxLQUFLLGFBQWE7QUFBQSxVQUN2QixNQUFNO0FBQUEsVUFDTixRQUFRO0FBQUEsUUFDVCxDQUFDO0FBQUEsTUFDRjtBQUFBLElBQ0Q7QUFFQSxRQUFJLE1BQU07QUFFVCxnQkFBVSxXQUFXLElBQUk7QUFBQSxJQUMxQjtBQUFBLEVBQ0Q7QUFFRDsiLAogICJuYW1lcyI6IFsiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgIm1lbW8iXQp9Cg==
